"use strict";(self.webpackChunkcreate_payload_app=self.webpackChunkcreate_payload_app||[]).push([[918],{"./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/CopyLocaleData/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{w:()=>CopyLocaleData});var compiler_runtime=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/compiler-runtime.js"),jsx_runtime=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/jsx-runtime.js"),useModal=__webpack_require__("./node_modules/.pnpm/@faceless-ui+modal@3.0.0-beta.2_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/@faceless-ui/modal/dist/useModal/index.js"),dist_exports=__webpack_require__("./node_modules/.pnpm/@payloadcms+translations@3.31.0/node_modules/@payloadcms/translations/dist/exports/index.js"),navigation=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/navigation.js"),react=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/index.js"),dist=__webpack_require__("./node_modules/.pnpm/sonner@1.7.4_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/sonner/dist/index.mjs"),Checkbox=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/fields/Checkbox/index.js"),Input=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/fields/Select/Input.js"),context=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/forms/Form/context.js"),Config=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/Config/index.js"),DocumentInfo=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/DocumentInfo/index.js"),Locale=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/Locale/index.js"),RouteTransition=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/RouteTransition/index.js"),ServerFunctions=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/ServerFunctions/index.js"),Translation=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/Translation/index.js"),DrawerCloseButton=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/BulkUpload/DrawerCloseButton/index.js");function DrawerHeader({onClose,title}){return(0,jsx_runtime.jsxs)("div",{className:"bulk-upload--drawer-header",children:[(0,jsx_runtime.jsx)("h2",{title,children:title}),(0,jsx_runtime.jsx)(DrawerCloseButton.s,{onClick:onClose})]})}var Button=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/Button/index.js"),Drawer=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/Drawer/index.js"),PopupButtonList=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/Popup/PopupButtonList/index.js");const CopyLocaleData=()=>{const $=(0,compiler_runtime.c)(38),{config:t0}=(0,Config.U)(),{localization,routes:t1,serverURL}=t0,{admin}=t1,{code}=(0,Locale.Ym)(),{id,collectionSlug,globalSlug}=(0,DocumentInfo.r)(),{i18n,t}=(0,Translation.B)(),modified=(0,context.Jm)(),{toggleModal}=(0,useModal.h)(),{copyDataFromLocale}=(0,ServerFunctions.gL)(),router=(0,navigation.useRouter)(),{startRouteTransition}=(0,RouteTransition.y)();let t2;$[0]!==localization?(t2=localization&&localization.locales.map(_temp)||[],$[0]=localization,$[1]=t2):t2=$[1];const localeOptions=t2;let t3;$[2]!==code?(t3=locale_0=>locale_0.value!==code,$[2]=code,$[3]=t3):t3=$[3];const localeOptionsWithoutCurrent=localeOptions.filter(t3);let t4;$[4]!==i18n||$[5]!==localization?(t4=code_0=>{const locale_1=localization&&localization.locales.find((l=>l.code===code_0));return locale_1&&locale_1.label?(0,dist_exports.sC)(locale_1.label,i18n):code_0},$[4]=i18n,$[5]=localization,$[6]=t4):t4=$[6];const getLocaleLabel=t4,[copying,setCopying]=react.useState(!1),[toLocale,setToLocale]=react.useState(null),[fromLocale,setFromLocale]=react.useState(code),[overwriteExisting,setOverwriteExisting]=react.useState(!1);let t5,t6,t7;$[7]!==code||$[8]!==fromLocale?(t5=()=>{fromLocale!==code&&setFromLocale(code)},t6=[code,fromLocale],$[7]=code,$[8]=fromLocale,$[9]=t5,$[10]=t6):(t5=$[9],t6=$[10]),react.useEffect(t5,t6),$[11]!==admin||$[12]!==collectionSlug||$[13]!==copyDataFromLocale||$[14]!==globalSlug||$[15]!==id||$[16]!==overwriteExisting||$[17]!==router||$[18]!==serverURL||$[19]!==startRouteTransition||$[20]!==toggleModal?(t7=async t8=>{const{from,to}=t8;setCopying(!0);try{await copyDataFromLocale({collectionSlug,docID:id,fromLocale:from,globalSlug,overrideData:overwriteExisting,toLocale:to}),setCopying(!1),startRouteTransition((()=>router.push(`${serverURL}${admin}/${collectionSlug?`collections/${collectionSlug}/${id}`:`globals/${globalSlug}`}?locale=${to}`))),toggleModal("copy-locale")}catch(t9){const error=t9;dist.oR.error(error.message)}},$[11]=admin,$[12]=collectionSlug,$[13]=copyDataFromLocale,$[14]=globalSlug,$[15]=id,$[16]=overwriteExisting,$[17]=router,$[18]=serverURL,$[19]=startRouteTransition,$[20]=toggleModal,$[21]=t7):t7=$[21];const copyLocaleData=t7;if(!id&&!globalSlug)return null;let t8,t9,t10,t11,t12,t13;return $[22]!==modified||$[23]!==t||$[24]!==toggleModal?(t8=()=>{modified?dist.oR.info(t("general:unsavedChanges")):toggleModal("copy-locale")},$[22]=modified,$[23]=t,$[24]=toggleModal,$[25]=t8):t8=$[25],$[26]!==toggleModal?(t9=()=>{toggleModal("copy-locale")},$[26]=toggleModal,$[27]=t9):t9=$[27],$[28]!==copyLocaleData||$[29]!==copying||$[30]!==fromLocale||$[31]!==t||$[32]!==toLocale?(t10=async()=>{fromLocale!==toLocale?copying||await copyLocaleData({from:fromLocale,to:toLocale}):dist.oR.error(t("localization:cannotCopySameLocale"))},$[28]=copyLocaleData,$[29]=copying,$[30]=fromLocale,$[31]=t,$[32]=toLocale,$[33]=t10):t10=$[33],$[34]===Symbol.for("react.memo_cache_sentinel")?(t11=selectedOption=>{selectedOption?.value&&setFromLocale(selectedOption.value)},$[34]=t11):t11=$[34],$[35]===Symbol.for("react.memo_cache_sentinel")?(t12=selectedOption_0=>{selectedOption_0?.value&&setToLocale(selectedOption_0.value)},$[35]=t12):t12=$[35],$[36]!==overwriteExisting?(t13=()=>setOverwriteExisting(!overwriteExisting),$[36]=overwriteExisting,$[37]=t13):t13=$[37],(0,jsx_runtime.jsxs)(react.Fragment,{children:[(0,jsx_runtime.jsx)(PopupButtonList.$n,{id:"copy-locale-data__button",onClick:t8,children:t("localization:copyToLocale")}),(0,jsx_runtime.jsxs)(Drawer._s,{className:"copy-locale-data",gutter:!1,Header:(0,jsx_runtime.jsx)(DrawerHeader,{onClose:t9,title:t("localization:copyToLocale")}),slug:"copy-locale",children:[(0,jsx_runtime.jsxs)("div",{className:"copy-locale-data__sub-header",children:[(0,jsx_runtime.jsx)("span",{children:fromLocale&&toLocale?(0,jsx_runtime.jsx)("div",{children:t("localization:copyFromTo",{from:getLocaleLabel(fromLocale),to:getLocaleLabel(toLocale)})}):t("localization:selectLocaleToCopy")}),(0,jsx_runtime.jsx)(Button.$,{buttonStyle:"primary",disabled:!fromLocale||!toLocale,iconPosition:"left",onClick:t10,size:"medium",children:copying?t("general:copying")+"...":t("general:copy")})]}),(0,jsx_runtime.jsxs)("div",{className:"copy-locale-data__content",children:[(0,jsx_runtime.jsx)(Input.p,{label:t("localization:copyFrom"),name:"fromLocale",onChange:t11,options:localeOptions,path:"fromLocale",readOnly:!0,value:fromLocale}),(0,jsx_runtime.jsx)(Input.p,{label:t("localization:copyTo"),name:"toLocale",onChange:t12,options:localeOptionsWithoutCurrent,path:"toLocale",value:toLocale}),(0,jsx_runtime.jsx)(Checkbox.Y,{checked:overwriteExisting,field:{name:"overwriteExisting",label:t("general:overwriteExistingData")},onChange:t13,path:"overwriteExisting"})]})]})]})};function _temp(locale){return{label:locale.label,value:locale.code}}},"./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/DeleteDocument/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{r:()=>DeleteDocument});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/jsx-runtime.js"),_faceless_ui_modal__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/.pnpm/@faceless-ui+modal@3.0.0-beta.2_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/@faceless-ui/modal/dist/useModal/index.js"),_payloadcms_translations__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@payloadcms+translations@3.31.0/node_modules/@payloadcms/translations/dist/exports/index.js"),next_navigation_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/navigation.js"),payload_shared__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/.pnpm/payload@3.31.0_graphql@16.10.0_typescript@5.7.3/node_modules/payload/dist/utilities/formatAdminURL.js"),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/index.js"),sonner__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/sonner@1.7.4_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/sonner/dist/index.mjs"),_forms_Form_context_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/forms/Form/context.js"),_providers_Config_index_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/Config/index.js"),_providers_DocumentInfo_index_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/DocumentInfo/index.js"),_providers_RouteTransition_index_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/RouteTransition/index.js"),_providers_Translation_index_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/Translation/index.js"),_utilities_api_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/utilities/api.js"),_ConfirmationModal_index_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/ConfirmationModal/index.js"),_Popup_index_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/Popup/PopupButtonList/index.js"),_Translation_index_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/Translation/index.js");const DeleteDocument=props=>{const{id,buttonId,collectionSlug,onDelete,redirectAfterDelete=!0,singularLabel,title:titleFromProps}=props,{config:{routes:{admin:adminRoute,api},serverURL},getEntityConfig}=(0,_providers_Config_index_js__WEBPACK_IMPORTED_MODULE_5__.U)(),collectionConfig=getEntityConfig({collectionSlug}),{setModified}=(0,_forms_Form_context_js__WEBPACK_IMPORTED_MODULE_6__.mN)(),router=(0,next_navigation_js__WEBPACK_IMPORTED_MODULE_2__.useRouter)(),{i18n,t}=(0,_providers_Translation_index_js__WEBPACK_IMPORTED_MODULE_7__.B)(),{title}=(0,_providers_DocumentInfo_index_js__WEBPACK_IMPORTED_MODULE_8__.r)(),{startRouteTransition}=(0,_providers_RouteTransition_index_js__WEBPACK_IMPORTED_MODULE_9__.y)(),{openModal}=(0,_faceless_ui_modal__WEBPACK_IMPORTED_MODULE_10__.h)(),modalSlug=`delete-${id}`,addDefaultError=(0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((()=>{sonner__WEBPACK_IMPORTED_MODULE_4__.oR.error(t("error:deletingTitle",{title}))}),[t,title]),handleDelete=(0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((async()=>{setModified(!1);try{await _utilities_api_js__WEBPACK_IMPORTED_MODULE_11__.z.delete(`${serverURL}${api}/${collectionSlug}/${id}`,{headers:{"Accept-Language":i18n.language,"Content-Type":"application/json"}}).then((async res=>{try{const json=await res.json();return res.status<400?(sonner__WEBPACK_IMPORTED_MODULE_4__.oR.success(t("general:titleDeleted",{label:(0,_payloadcms_translations__WEBPACK_IMPORTED_MODULE_1__.sC)(singularLabel,i18n),title})||json.message),redirectAfterDelete?startRouteTransition((()=>router.push((0,payload_shared__WEBPACK_IMPORTED_MODULE_12__.Q)({adminRoute,path:`/collections/${collectionSlug}`})))):void("function"==typeof onDelete&&await onDelete({id,collectionConfig}))):(json.errors?json.errors.forEach((error=>sonner__WEBPACK_IMPORTED_MODULE_4__.oR.error(error.message))):addDefaultError(),!1)}catch(_err_0){return addDefaultError()}}))}catch(_err){return addDefaultError()}}),[setModified,serverURL,api,collectionSlug,id,t,singularLabel,addDefaultError,i18n,title,router,adminRoute,redirectAfterDelete,onDelete,collectionConfig,startRouteTransition]);return id?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react__WEBPACK_IMPORTED_MODULE_3__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Popup_index_js__WEBPACK_IMPORTED_MODULE_13__.$n,{id:buttonId,onClick:()=>{openModal(modalSlug)},children:t("general:delete")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_ConfirmationModal_index_js__WEBPACK_IMPORTED_MODULE_14__.R,{body:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Translation_index_js__WEBPACK_IMPORTED_MODULE_15__.w,{elements:{1:({children})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("strong",{children})},i18nKey:"general:aboutToDelete",t,variables:{label:(0,_payloadcms_translations__WEBPACK_IMPORTED_MODULE_1__.sC)(singularLabel,i18n),title:titleFromProps||title||id}}),confirmingLabel:t("general:deleting"),heading:t("general:confirmDeletion"),modalSlug,onConfirm:handleDelete})]}):null}},"./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/DuplicateDocument/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>DuplicateDocument});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/jsx-runtime.js"),_faceless_ui_modal__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/.pnpm/@faceless-ui+modal@3.0.0-beta.2_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/@faceless-ui/modal/dist/useModal/index.js"),_payloadcms_translations__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@payloadcms+translations@3.31.0/node_modules/@payloadcms/translations/dist/exports/index.js"),next_navigation_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/navigation.js"),payload_shared__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/.pnpm/payload@3.31.0_graphql@16.10.0_typescript@5.7.3/node_modules/payload/dist/utilities/formatAdminURL.js"),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/index.js"),sonner__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/sonner@1.7.4_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/sonner/dist/index.mjs"),_forms_Form_context_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/forms/Form/context.js"),_providers_Config_index_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/Config/index.js"),_providers_Locale_index_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/Locale/index.js"),_providers_RouteTransition_index_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/RouteTransition/index.js"),_providers_Translation_index_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/Translation/index.js"),_utilities_api_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/utilities/api.js"),_ConfirmationModal_index_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/ConfirmationModal/index.js"),_Popup_index_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/Popup/PopupButtonList/index.js");const DuplicateDocument=({id,slug,onDuplicate,redirectAfterDuplicate=!0,singularLabel})=>{const router=(0,next_navigation_js__WEBPACK_IMPORTED_MODULE_2__.useRouter)(),modified=(0,_forms_Form_context_js__WEBPACK_IMPORTED_MODULE_5__.Jm)(),{openModal}=(0,_faceless_ui_modal__WEBPACK_IMPORTED_MODULE_6__.h)(),locale=(0,_providers_Locale_index_js__WEBPACK_IMPORTED_MODULE_7__.Ym)(),{setModified}=(0,_forms_Form_context_js__WEBPACK_IMPORTED_MODULE_5__.mN)(),{startRouteTransition}=(0,_providers_RouteTransition_index_js__WEBPACK_IMPORTED_MODULE_8__.y)(),{config:{routes:{admin:adminRoute,api:apiRoute},serverURL},getEntityConfig}=(0,_providers_Config_index_js__WEBPACK_IMPORTED_MODULE_9__.U)(),collectionConfig=getEntityConfig({collectionSlug:slug}),[renderModal,setRenderModal]=react__WEBPACK_IMPORTED_MODULE_3__.useState(!1),{i18n,t}=(0,_providers_Translation_index_js__WEBPACK_IMPORTED_MODULE_10__.B)(),modalSlug=`duplicate-${id}`,duplicate=(0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((async()=>{setRenderModal(!0),await _utilities_api_js__WEBPACK_IMPORTED_MODULE_11__.z.post(`${serverURL}${apiRoute}/${slug}/${id}/duplicate${locale?.code?`?locale=${locale.code}`:""}`,{body:JSON.stringify({}),headers:{"Accept-Language":i18n.language,"Content-Type":"application/json",credentials:"include"}}).then((async res=>{const{doc,errors,message}=await res.json();if(res.status<400){if(sonner__WEBPACK_IMPORTED_MODULE_4__.oR.success(message||t("general:successfullyDuplicated",{label:(0,_payloadcms_translations__WEBPACK_IMPORTED_MODULE_1__.sC)(singularLabel,i18n)})),setModified(!1),redirectAfterDuplicate)return startRouteTransition((()=>router.push((0,payload_shared__WEBPACK_IMPORTED_MODULE_12__.Q)({adminRoute,path:`/collections/${slug}/${doc.id}${locale?.code?`?locale=${locale.code}`:""}`}))));"function"==typeof onDuplicate&&onDuplicate({collectionConfig,doc})}else sonner__WEBPACK_IMPORTED_MODULE_4__.oR.error(errors?.[0].message||message||t("error:unspecific",{label:(0,_payloadcms_translations__WEBPACK_IMPORTED_MODULE_1__.sC)(singularLabel,i18n)}))}))}),[locale,serverURL,apiRoute,slug,id,i18n,t,singularLabel,onDuplicate,redirectAfterDuplicate,setModified,router,adminRoute,collectionConfig,startRouteTransition]),onConfirm=(0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((async()=>{setRenderModal(!1),await duplicate()}),[duplicate]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react__WEBPACK_IMPORTED_MODULE_3__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Popup_index_js__WEBPACK_IMPORTED_MODULE_13__.$n,{id:"action-duplicate",onClick:()=>modified?(setRenderModal(!0),openModal(modalSlug)):duplicate(),children:t("general:duplicate")}),renderModal&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_ConfirmationModal_index_js__WEBPACK_IMPORTED_MODULE_14__.R,{body:t("general:unsavedChangesDuplicate"),confirmLabel:t("general:duplicateWithoutSaving"),heading:t("general:unsavedChanges"),modalSlug,onConfirm})]})}},"./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/Locked/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{H:()=>Locked});var compiler_runtime=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/compiler-runtime.js"),jsx_runtime=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/index.js");const LockIcon=({className})=>(0,jsx_runtime.jsxs)("svg",{className:["icon icon--lock",className].filter(Boolean).join(" "),fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[(0,jsx_runtime.jsx)("path",{className:"stroke",d:"M7.5 9.5V7.5C7.5 6.83696 7.76339 6.20107 8.23223 5.73223C8.70107 5.26339 9.33696 5 10 5C10.663 5 11.2989 5.26339 11.7678 5.73223C12.2366 6.20107 12.5 6.83696 12.5 7.5V9.5",strokeLinecap:"round",strokeLinejoin:"round",strokeOpacity:"1"}),(0,jsx_runtime.jsx)("path",{className:"stroke",d:"M13.5 9.5H6.5C5.94772 9.5 5.5 9.94772 5.5 10.5V14C5.5 14.5523 5.94772 15 6.5 15H13.5C14.0523 15 14.5 14.5523 14.5 14V10.5C14.5 9.94772 14.0523 9.5 13.5 9.5Z",stopOpacity:"1",strokeLinecap:"round",strokeLinejoin:"round"})]});var Translation=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/Translation/index.js"),isClientUserObject=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/utilities/isClientUserObject.js"),Tooltip=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/Tooltip/index.js");const baseClass="locked",Locked=t0=>{const $=(0,compiler_runtime.c)(8),{className,user}=t0,[hovered,setHovered]=(0,react.useState)(!1),{t}=(0,Translation.B)(),userToUse=(0,isClientUserObject.O)(user)?user.email??user.id:t("general:anotherUser");let t1;$[0]!==className?(t1=[baseClass,className].filter(Boolean),$[0]=className,$[1]=t1):t1=$[1];const t2=t1.join(" ");let t3,t4;$[2]===Symbol.for("react.memo_cache_sentinel")?(t3=()=>setHovered(!0),t4=()=>setHovered(!1),$[2]=t3,$[3]=t4):(t3=$[2],t4=$[3]);const t5=`${userToUse} ${t("general:isEditing")}`;let t6;return $[4]!==hovered||$[5]!==t2||$[6]!==t5?(t6=(0,jsx_runtime.jsxs)("div",{className:t2,onMouseEnter:t3,onMouseLeave:t4,role:"button",tabIndex:0,children:[(0,jsx_runtime.jsx)(Tooltip.m,{alignCaret:"left",className:`${baseClass}__tooltip`,position:"top",show:hovered,children:t5}),(0,jsx_runtime.jsx)(LockIcon,{})]}),$[4]=hovered,$[5]=t2,$[6]=t5,$[7]=t6):t6=$[7],t6}},"./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/PreviewButton/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{P:()=>PreviewButton});var compiler_runtime=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/compiler-runtime.js"),jsx_runtime=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/index.js"),Button=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/Button/index.js"),stringify=__webpack_require__("./node_modules/.pnpm/qs-esm@7.0.2/node_modules/qs-esm/lib/stringify.js"),dist=__webpack_require__("./node_modules/.pnpm/sonner@1.7.4_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/sonner/dist/index.mjs"),Config=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/Config/index.js"),DocumentInfo=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/DocumentInfo/index.js"),Locale=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/Locale/index.js"),Translation=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/Translation/index.js");const usePreviewURL=()=>{const{id,collectionSlug,globalSlug,versionCount}=(0,DocumentInfo.r)(),[isLoading,setIsLoading]=(0,react.useState)(!1),[previewURL,setPreviewURL]=(0,react.useState)(""),{code:locale}=(0,Locale.Ym)(),hasVersions=versionCount>0,{config:{routes:{api},serverURL}}=(0,Config.U)(),{t}=(0,Translation.B)(),isGeneratingPreviewURL=(0,react.useRef)(!1);return{generatePreviewURL:(0,react.useCallback)((async({openPreviewWindow=!1})=>{if(!isGeneratingPreviewURL.current){isGeneratingPreviewURL.current=!0;try{setIsLoading(!0);let url=`${serverURL}${api}`;collectionSlug&&(url=`${url}/${collectionSlug}/${id}/preview`),globalSlug&&(url=`${url}/globals/${globalSlug}/preview`);const params={draft:hasVersions?"true":"false",locale:locale||void 0},res=await fetch(`${url}?${stringify.A(params)}`);if(!res.ok)throw new Error;const newPreviewURL=await res.json();if(!newPreviewURL)throw new Error;setPreviewURL(newPreviewURL),setIsLoading(!1),isGeneratingPreviewURL.current=!1,openPreviewWindow&&window.open(newPreviewURL,"_blank")}catch(err){setIsLoading(!1),isGeneratingPreviewURL.current=!1,dist.oR.error(t("error:previewing"))}}}),[serverURL,api,collectionSlug,globalSlug,hasVersions,locale,id,t]),isLoading,label:t(isLoading?"general:loading":"version:preview"),previewURL}},baseClass="preview-btn";function PreviewButton(props){const $=(0,compiler_runtime.c)(5),{generatePreviewURL,label}=usePreviewURL();let t0,t1;return $[0]!==generatePreviewURL?(t0=()=>generatePreviewURL({openPreviewWindow:!0}),$[0]=generatePreviewURL,$[1]=t0):t0=$[1],$[2]!==label||$[3]!==t0?(t1=(0,jsx_runtime.jsx)(Button.$,{buttonStyle:"secondary",className:baseClass,icon:"link",iconPosition:"left",onClick:t0,size:"medium",children:label}),$[2]=label,$[3]=t0,$[4]=t1):t1=$[4],t1}},"./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/SaveButton/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{y:()=>SaveButton});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/index.js"),_forms_Form_context_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/forms/Form/context.js"),_forms_Submit_index_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/forms/Submit/index.js"),_hooks_useHotkey_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/hooks/useHotkey.js"),_providers_DocumentInfo_index_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/DocumentInfo/index.js"),_providers_EditDepth_index_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/EditDepth/index.js"),_providers_Operation_index_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/Operation/index.js"),_providers_Translation_index_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/Translation/index.js");function SaveButton({label:labelProp}){const{uploadStatus}=(0,_providers_DocumentInfo_index_js__WEBPACK_IMPORTED_MODULE_2__.r)(),{t}=(0,_providers_Translation_index_js__WEBPACK_IMPORTED_MODULE_3__.B)(),{submit}=(0,_forms_Form_context_js__WEBPACK_IMPORTED_MODULE_4__.mN)(),modified=(0,_forms_Form_context_js__WEBPACK_IMPORTED_MODULE_4__.Jm)(),label=labelProp||t("general:save"),ref=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null),editDepth=(0,_providers_EditDepth_index_js__WEBPACK_IMPORTED_MODULE_5__.lU)(),disabled="update"===(0,_providers_Operation_index_js__WEBPACK_IMPORTED_MODULE_6__.j9)()&&!modified||"uploading"===uploadStatus;(0,_hooks_useHotkey_js__WEBPACK_IMPORTED_MODULE_7__.E)({cmdCtrlKey:!0,editDepth,keyCodes:["s"]},(e=>{e.preventDefault(),e.stopPropagation(),ref?.current&&ref.current.click()}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_forms_Submit_index_js__WEBPACK_IMPORTED_MODULE_8__.h,{buttonId:"action-save",disabled,onClick:()=>{"uploading"!==uploadStatus&&submit()},ref,size:"medium",type:"button",children:label})}},"./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/SaveDraftButton/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{V:()=>SaveDraftButton});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/index.js"),_forms_Form_context_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/forms/Form/context.js"),_forms_Submit_index_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/forms/Submit/index.js"),_hooks_useHotkey_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/hooks/useHotkey.js"),_providers_Config_index_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/Config/index.js"),_providers_DocumentInfo_index_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/DocumentInfo/index.js"),_providers_EditDepth_index_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/EditDepth/index.js"),_providers_Locale_index_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/Locale/index.js"),_providers_Operation_index_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/Operation/index.js"),_providers_Translation_index_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/Translation/index.js");const baseClass="save-draft";function SaveDraftButton(props){const{config:{routes:{api},serverURL}}=(0,_providers_Config_index_js__WEBPACK_IMPORTED_MODULE_2__.U)(),{id,collectionSlug,globalSlug,setUnpublishedVersionCount,uploadStatus}=(0,_providers_DocumentInfo_index_js__WEBPACK_IMPORTED_MODULE_3__.r)(),modified=(0,_forms_Form_context_js__WEBPACK_IMPORTED_MODULE_4__.Jm)(),{code:locale}=(0,_providers_Locale_index_js__WEBPACK_IMPORTED_MODULE_5__.Ym)(),ref=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null),editDepth=(0,_providers_EditDepth_index_js__WEBPACK_IMPORTED_MODULE_6__.lU)(),{t}=(0,_providers_Translation_index_js__WEBPACK_IMPORTED_MODULE_7__.B)(),{submit}=(0,_forms_Form_context_js__WEBPACK_IMPORTED_MODULE_4__.mN)(),disabled="update"===(0,_providers_Operation_index_js__WEBPACK_IMPORTED_MODULE_8__.j9)()&&!modified||"uploading"===uploadStatus,saveDraft=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((async()=>{if(disabled)return;const search=`?locale=${locale}&depth=0&fallback-locale=null&draft=true`;let action,method="POST";collectionSlug&&(action=`${serverURL}${api}/${collectionSlug}${id?`/${id}`:""}${search}`,id&&(method="PATCH")),globalSlug&&(action=`${serverURL}${api}/globals/${globalSlug}${search}`),await submit({action,method,overrides:{_status:"draft"},skipValidation:!0}),setUnpublishedVersionCount((count=>count+1))}),[submit,collectionSlug,globalSlug,serverURL,api,locale,id,disabled,setUnpublishedVersionCount]);return(0,_hooks_useHotkey_js__WEBPACK_IMPORTED_MODULE_9__.E)({cmdCtrlKey:!0,editDepth,keyCodes:["s"]},(e=>{e.preventDefault(),e.stopPropagation(),ref?.current&&ref.current.click()})),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_forms_Submit_index_js__WEBPACK_IMPORTED_MODULE_10__.h,{buttonId:"action-save-draft",buttonStyle:"secondary",className:baseClass,disabled,onClick:()=>{saveDraft()},ref,size:"medium",type:"button",children:t("version:saveDraft")})}},"./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/Status/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{n:()=>Status});var react_compiler_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/compiler-runtime.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/jsx-runtime.js"),_faceless_ui_modal__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/.pnpm/@faceless-ui+modal@3.0.0-beta.2_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/@faceless-ui/modal/dist/useModal/index.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/index.js"),sonner__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/sonner@1.7.4_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/sonner/dist/index.mjs"),_forms_Form_context_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/forms/Form/context.js"),_providers_Config_index_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/Config/index.js"),_providers_DocumentInfo_index_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/DocumentInfo/index.js"),_providers_Locale_index_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/Locale/index.js"),_providers_Translation_index_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/Translation/index.js"),_utilities_api_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/utilities/api.js"),_Button_index_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/Button/index.js"),_ConfirmationModal_index_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/ConfirmationModal/index.js");const Status=()=>{const $=(0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_0__.c)(37),{id,collectionSlug,docPermissions,globalSlug,hasPublishedDoc,incrementVersionCount,setHasPublishedDoc,setMostRecentVersionIsAutosaved,setUnpublishedVersionCount,unpublishedVersionCount}=(0,_providers_DocumentInfo_index_js__WEBPACK_IMPORTED_MODULE_4__.r)(),{toggleModal}=(0,_faceless_ui_modal__WEBPACK_IMPORTED_MODULE_5__.h)(),{config:t0}=(0,_providers_Config_index_js__WEBPACK_IMPORTED_MODULE_6__.U)(),{routes:t1,serverURL}=t0,{api}=t1,{reset:resetForm}=(0,_forms_Form_context_js__WEBPACK_IMPORTED_MODULE_7__.mN)(),{code:locale}=(0,_providers_Locale_index_js__WEBPACK_IMPORTED_MODULE_8__.Ym)(),{i18n,t}=(0,_providers_Translation_index_js__WEBPACK_IMPORTED_MODULE_9__.B)(),unPublishModalSlug=`confirm-un-publish-${id}`,revertModalSlug=`confirm-revert-${id}`;let statusToRender,t2;unpublishedVersionCount>0&&hasPublishedDoc?statusToRender="changed":hasPublishedDoc?hasPublishedDoc&&unpublishedVersionCount<=0&&(statusToRender="published"):statusToRender="draft",$[0]!==api||$[1]!==collectionSlug||$[2]!==globalSlug||$[3]!==i18n.language||$[4]!==id||$[5]!==incrementVersionCount||$[6]!==locale||$[7]!==resetForm||$[8]!==serverURL||$[9]!==setHasPublishedDoc||$[10]!==setMostRecentVersionIsAutosaved||$[11]!==setUnpublishedVersionCount||$[12]!==t?(t2=async action=>{let url,method,body;if("unpublish"===action&&(body={_status:"draft"}),collectionSlug&&(url=`${serverURL}${api}/${collectionSlug}/${id}?locale=${locale}&fallback-locale=null&depth=0`,method="patch"),globalSlug&&(url=`${serverURL}${api}/globals/${globalSlug}?locale=${locale}&fallback-locale=null&depth=0`,method="post"),"revert"===action){body=await _utilities_api_js__WEBPACK_IMPORTED_MODULE_10__.z.get(url,{headers:{"Accept-Language":i18n.language,"Content-Type":"application/json"}}).then(_temp)}const res_0=await _utilities_api_js__WEBPACK_IMPORTED_MODULE_10__.z[method](url,{body:JSON.stringify(body),headers:{"Accept-Language":i18n.language,"Content-Type":"application/json"}});if(200===res_0.status){let data;const json=await res_0.json();globalSlug?data=json.result:collectionSlug&&(data=json.doc),resetForm(data),sonner__WEBPACK_IMPORTED_MODULE_3__.oR.success(json.message),incrementVersionCount(),setMostRecentVersionIsAutosaved(!1),"unpublish"===action?setHasPublishedDoc(!1):"revert"===action&&setUnpublishedVersionCount(0)}else sonner__WEBPACK_IMPORTED_MODULE_3__.oR.error(t("error:unPublishingDocument"))},$[0]=api,$[1]=collectionSlug,$[2]=globalSlug,$[3]=i18n.language,$[4]=id,$[5]=incrementVersionCount,$[6]=locale,$[7]=resetForm,$[8]=serverURL,$[9]=setHasPublishedDoc,$[10]=setMostRecentVersionIsAutosaved,$[11]=setUnpublishedVersionCount,$[12]=t,$[13]=t2):t2=$[13];const performAction=t2,canUpdate=docPermissions?.update;if(statusToRender){const t3=`${t("version:status")}: ${t(`version:${statusToRender}`)}`;let t4;if($[14]!==canUpdate||$[15]!==performAction||$[16]!==revertModalSlug||$[17]!==statusToRender||$[18]!==t||$[19]!==t3||$[20]!==toggleModal||$[21]!==unPublishModalSlug){let t5,t6;$[23]!==canUpdate||$[24]!==performAction||$[25]!==statusToRender||$[26]!==t||$[27]!==toggleModal||$[28]!==unPublishModalSlug?(t5=canUpdate&&"published"===statusToRender&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react__WEBPACK_IMPORTED_MODULE_2__.Fragment,{children:[" — ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_Button_index_js__WEBPACK_IMPORTED_MODULE_11__.$,{buttonStyle:"none",className:"status__action",onClick:()=>toggleModal(unPublishModalSlug),children:t("version:unpublish")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_ConfirmationModal_index_js__WEBPACK_IMPORTED_MODULE_12__.R,{body:t("version:aboutToUnpublish"),confirmingLabel:t("version:unpublishing"),heading:t("version:confirmUnpublish"),modalSlug:unPublishModalSlug,onConfirm:()=>performAction("unpublish")})]}),$[23]=canUpdate,$[24]=performAction,$[25]=statusToRender,$[26]=t,$[27]=toggleModal,$[28]=unPublishModalSlug,$[29]=t5):t5=$[29],$[30]!==canUpdate||$[31]!==performAction||$[32]!==revertModalSlug||$[33]!==statusToRender||$[34]!==t||$[35]!==toggleModal?(t6=canUpdate&&"changed"===statusToRender&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react__WEBPACK_IMPORTED_MODULE_2__.Fragment,{children:[" — ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_Button_index_js__WEBPACK_IMPORTED_MODULE_11__.$,{buttonStyle:"none",className:"status__action",id:"action-revert-to-published",onClick:()=>toggleModal(revertModalSlug),children:t("version:revertToPublished")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_ConfirmationModal_index_js__WEBPACK_IMPORTED_MODULE_12__.R,{body:t("version:aboutToRevertToPublished"),confirmingLabel:t("version:reverting"),heading:t("version:confirmRevertToSaved"),modalSlug:revertModalSlug,onConfirm:()=>performAction("revert")})]}),$[30]=canUpdate,$[31]=performAction,$[32]=revertModalSlug,$[33]=statusToRender,$[34]=t,$[35]=toggleModal,$[36]=t6):t6=$[36],t4=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{className:"status",title:t3,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("div",{className:"status__value-wrap",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("span",{className:"status__label",children:[t("version:status"),": "]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("span",{className:"status__value",children:t(`version:${statusToRender}`)}),t5,t6]})}),$[14]=canUpdate,$[15]=performAction,$[16]=revertModalSlug,$[17]=statusToRender,$[18]=t,$[19]=t3,$[20]=toggleModal,$[21]=unPublishModalSlug,$[22]=t4}else t4=$[22];return t4}return null};function _temp(res){return res.json()}},"./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/Translation/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{w:()=>Translation});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/jsx-runtime.js");__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/index.js");const RecursiveTranslation=({elements,translationString})=>{const sections=translationString.split(/(<[^>]+>.*?<\/[^>]+>)/g);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{children:sections.map(((section,index)=>{if(elements&&section.startsWith("<")&&section.endsWith(">")){const elementKey=section[1],Element=elements[elementKey];if(Element){const regex=new RegExp(`<${elementKey}>(.*?)</${elementKey}>`,"g"),children=section.replace(regex,((_,group)=>group));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Element,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(RecursiveTranslation,{translationString:children})},index)}}return section}))})},Translation=({elements,i18nKey,t,variables})=>{const stringWithVariables=t(i18nKey,variables||{});return elements?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(RecursiveTranslation,{elements,translationString:stringWithVariables}):stringWithVariables}},"./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/utilities/isClientUserObject.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{O:()=>isClientUserObject});const isClientUserObject=user=>user&&"object"==typeof user},"./node_modules/.pnpm/payload@3.31.0_graphql@16.10.0_typescript@5.7.3/node_modules/payload/dist/utilities/formatAdminURL.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Q:()=>formatAdminURL});const formatAdminURL=args=>{const{adminRoute,basePath="",path:pathFromArgs,serverURL}=args,path=pathFromArgs||"";if(adminRoute){if("/"!==adminRoute)return`${serverURL||""}${basePath}${adminRoute}${path}`;if(!path)return`${serverURL||""}${basePath}${adminRoute}`}return`${serverURL||""}${basePath}${path}`}},"./src/stories/DocumentControls/DocumentControls.stories.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>DocumentControls_stories});var jsx_runtime=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/index.js"),compiler_runtime=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/compiler-runtime.js"),dist_exports=__webpack_require__("./node_modules/.pnpm/@payloadcms+translations@3.31.0/node_modules/@payloadcms/translations/dist/exports/index.js"),formatAdminURL=__webpack_require__("./node_modules/.pnpm/payload@3.31.0_graphql@16.10.0_typescript@5.7.3/node_modules/payload/dist/utilities/formatAdminURL.js"),context=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/forms/Form/context.js"),Config=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/Config/index.js"),EditDepth=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/EditDepth/index.js"),Translation=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/Translation/index.js"),formatDateTitle=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/utilities/formatDocTitle/formatDateTitle.js"),Autosave=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/Autosave/index.js"),Button=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/Button/index.js"),CopyLocaleData=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/CopyLocaleData/index.js"),DeleteDocument=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/DeleteDocument/index.js"),DuplicateDocument=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/DuplicateDocument/index.js"),Gutter=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/Gutter/index.js"),Locked=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/Locked/index.js"),Popup=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/Popup/index.js"),PopupButtonList=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/Popup/PopupButtonList/index.js"),PreviewButton=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/PreviewButton/index.js"),PublishButton=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/PublishButton/index.js"),RenderCustomComponent=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/RenderCustomComponent/index.js"),SaveButton=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/SaveButton/index.js"),SaveDraftButton=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/SaveDraftButton/index.js"),Status=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/Status/index.js");const baseClass="doc-controls",DocumentControls=props=>{const $=(0,compiler_runtime.c)(15),{id,slug,customComponents:t0,data,disableActions,disableCreate,hasSavePermission,isAccountView,isEditing,onDelete,onDrawerCreateNew,onDuplicate,onTakeOver,permissions,readOnlyForIncomingUser,redirectAfterDelete,redirectAfterDuplicate,user}=props;let t1;$[0]!==t0?(t1=void 0===t0?{}:t0,$[0]=t0,$[1]=t1):t1=$[1];const{PreviewButton:CustomPreviewButton,PublishButton:CustomPublishButton,SaveButton:CustomSaveButton,SaveDraftButton:CustomSaveDraftButton}=t1,{i18n,t}=(0,Translation.B)(),editDepth=(0,EditDepth.lU)(),{config,getEntityConfig}=(0,Config.U)(),collectionConfig=getEntityConfig({collectionSlug:slug}),globalConfig=getEntityConfig({globalSlug:slug}),{admin:t2,localization,routes:t3}=config,{dateFormat}=t2,{admin:adminRoute}=t3,[updatedAt,setUpdatedAt]=react.useState(""),[createdAt,setCreatedAt]=react.useState(""),processing=(0,context.dS)(),initializing=(0,context.$E)();let t4,t5;$[2]!==data||$[3]!==dateFormat||$[4]!==i18n?(t4=()=>{data?.updatedAt&&setUpdatedAt((0,formatDateTitle.Y)({date:data.updatedAt,i18n,pattern:dateFormat})),data?.createdAt&&setCreatedAt((0,formatDateTitle.Y)({date:data.createdAt,i18n,pattern:dateFormat}))},t5=[data,i18n,dateFormat],$[2]=data,$[3]=dateFormat,$[4]=i18n,$[5]=t4,$[6]=t5):(t4=$[5],t5=$[6]),(0,react.useEffect)(t4,t5);const hasCreatePermission=permissions&&"create"in permissions&&permissions.create,hasDeletePermission=permissions&&"delete"in permissions&&permissions.delete,showDotMenu=Boolean(collectionConfig&&id&&!disableActions&&(hasCreatePermission||hasDeletePermission)),unsavedDraftWithValidations=!id&&collectionConfig?.versions?.drafts&&collectionConfig.versions?.drafts.validate,autosaveEnabled=collectionConfig?.versions?.drafts&&collectionConfig?.versions?.drafts?.autosave||globalConfig?.versions?.drafts&&globalConfig?.versions?.drafts?.autosave,showCopyToLocale=localization&&!collectionConfig?.admin?.disableCopyToLocale;let t6,t7;return $[7]!==readOnlyForIncomingUser||$[8]!==user?(t6=user&&readOnlyForIncomingUser&&(0,jsx_runtime.jsx)(Locked.H,{className:`${baseClass}__locked-controls`,user}),$[7]=readOnlyForIncomingUser,$[8]=user,$[9]=t6):t6=$[9],$[10]!==onTakeOver||$[11]!==readOnlyForIncomingUser||$[12]!==t||$[13]!==user?(t7=user&&readOnlyForIncomingUser&&(0,jsx_runtime.jsx)(Button.$,{buttonStyle:"secondary",id:"take-over",onClick:onTakeOver,size:"medium",type:"button",children:t("general:takeOver")}),$[10]=onTakeOver,$[11]=readOnlyForIncomingUser,$[12]=t,$[13]=user,$[14]=t7):t7=$[14],(0,jsx_runtime.jsxs)(Gutter.W,{className:baseClass,children:[(0,jsx_runtime.jsxs)("div",{className:`${baseClass}__wrapper`,children:[(0,jsx_runtime.jsx)("div",{className:`${baseClass}__content`,children:(0,jsx_runtime.jsxs)("ul",{className:`${baseClass}__meta`,children:[collectionConfig&&!isEditing&&!isAccountView&&(0,jsx_runtime.jsx)("li",{className:`${baseClass}__list-item`,children:(0,jsx_runtime.jsx)("p",{className:`${baseClass}__value`,children:i18n.t("general:creatingNewLabel",{label:(0,dist_exports.sC)(collectionConfig?.labels?.singular??i18n.t("general:document"),i18n)})})}),t6,(collectionConfig?.versions?.drafts||globalConfig?.versions?.drafts)&&(0,jsx_runtime.jsxs)(react.Fragment,{children:[(globalConfig||collectionConfig&&isEditing)&&(0,jsx_runtime.jsx)("li",{className:[`${baseClass}__status`,`${baseClass}__list-item`].filter(Boolean).join(" "),children:(0,jsx_runtime.jsx)(Status.n,{})}),hasSavePermission&&autosaveEnabled&&!unsavedDraftWithValidations&&(0,jsx_runtime.jsx)("li",{className:`${baseClass}__list-item`,children:(0,jsx_runtime.jsx)(Autosave.n,{collection:collectionConfig,global:globalConfig,id,publishedDocUpdatedAt:data?.createdAt})})]}),collectionConfig?.timestamps&&(isEditing||isAccountView)&&(0,jsx_runtime.jsxs)(react.Fragment,{children:[(0,jsx_runtime.jsxs)("li",{className:[`${baseClass}__list-item`,`${baseClass}__value-wrap`].filter(Boolean).join(" "),title:data?.updatedAt?updatedAt:"",children:[(0,jsx_runtime.jsxs)("p",{className:`${baseClass}__label`,children:[i18n.t("general:lastModified"),": "]}),data?.updatedAt&&(0,jsx_runtime.jsx)("p",{className:`${baseClass}__value`,children:updatedAt})]}),(0,jsx_runtime.jsxs)("li",{className:[`${baseClass}__list-item`,`${baseClass}__value-wrap`].filter(Boolean).join(" "),title:data?.createdAt?createdAt:"",children:[(0,jsx_runtime.jsxs)("p",{className:`${baseClass}__label`,children:[i18n.t("general:created"),": "]}),data?.createdAt&&(0,jsx_runtime.jsx)("p",{className:`${baseClass}__value`,children:createdAt})]})]})]})}),(0,jsx_runtime.jsxs)("div",{className:`${baseClass}__controls-wrapper`,children:[(0,jsx_runtime.jsxs)("div",{className:`${baseClass}__controls`,children:[(collectionConfig?.admin.preview||globalConfig?.admin.preview)&&(0,jsx_runtime.jsx)(RenderCustomComponent.n,{CustomComponent:CustomPreviewButton,Fallback:(0,jsx_runtime.jsx)(PreviewButton.P,{})}),hasSavePermission&&(0,jsx_runtime.jsx)(react.Fragment,{children:collectionConfig?.versions?.drafts||globalConfig?.versions?.drafts?(0,jsx_runtime.jsxs)(react.Fragment,{children:[(unsavedDraftWithValidations||!autosaveEnabled)&&(0,jsx_runtime.jsx)(RenderCustomComponent.n,{CustomComponent:CustomSaveDraftButton,Fallback:(0,jsx_runtime.jsx)(SaveDraftButton.V,{})}),(0,jsx_runtime.jsx)(RenderCustomComponent.n,{CustomComponent:CustomPublishButton,Fallback:(0,jsx_runtime.jsx)(PublishButton.I,{})})]}):(0,jsx_runtime.jsx)(RenderCustomComponent.n,{CustomComponent:CustomSaveButton,Fallback:(0,jsx_runtime.jsx)(SaveButton.y,{})})}),t7]}),showDotMenu&&!readOnlyForIncomingUser&&(0,jsx_runtime.jsx)(Popup.S,{button:(0,jsx_runtime.jsxs)("div",{className:`${baseClass}__dots`,children:[(0,jsx_runtime.jsx)("div",{}),(0,jsx_runtime.jsx)("div",{}),(0,jsx_runtime.jsx)("div",{})]}),className:`${baseClass}__popup`,disabled:initializing||processing,horizontalAlign:"right",size:"large",verticalAlign:"bottom",children:(0,jsx_runtime.jsxs)(PopupButtonList.e2,{children:[showCopyToLocale&&(0,jsx_runtime.jsx)(CopyLocaleData.w,{}),hasCreatePermission&&(0,jsx_runtime.jsxs)(react.Fragment,{children:[!disableCreate&&(0,jsx_runtime.jsx)(react.Fragment,{children:editDepth>1?(0,jsx_runtime.jsx)(PopupButtonList.$n,{id:"action-create",onClick:onDrawerCreateNew,children:i18n.t("general:createNew")}):(0,jsx_runtime.jsx)(PopupButtonList.$n,{href:(0,formatAdminURL.Q)({adminRoute,path:`/collections/${collectionConfig?.slug}/create`}),id:"action-create",children:i18n.t("general:createNew")})}),!0!==collectionConfig.disableDuplicate&&isEditing&&(0,jsx_runtime.jsx)(DuplicateDocument.Z,{id:id.toString(),onDuplicate,redirectAfterDuplicate,singularLabel:collectionConfig?.labels?.singular,slug:collectionConfig?.slug})]}),hasDeletePermission&&(0,jsx_runtime.jsx)(DeleteDocument.r,{buttonId:"action-delete",collectionSlug:collectionConfig?.slug,id:id.toString(),onDelete,redirectAfterDelete,singularLabel:collectionConfig?.labels?.singular,useAsTitle:collectionConfig?.admin?.useAsTitle})]})})]})]}),(0,jsx_runtime.jsx)("div",{className:`${baseClass}__divider`})]})},DocumentControls_stories={title:"@payloadcms/ui/elements/DocumentControls",component:DocumentControls,parameters:{docs:{description:{component:"DocumentControls component from @payloadcms/ui/dist/elements/DocumentControls"}}},argTypes:{id:{description:"id prop",table:{type:{summary:"any"}}},slug:{description:"slug prop",table:{type:{summary:"any"}}},"customComponents: t0":{description:"customComponents: t0 prop",table:{type:{summary:"any"}}},data:{description:"data prop",table:{type:{summary:"any"}}},disableActions:{description:"disableActions prop",table:{type:{summary:"any"}}},disableCreate:{description:"disableCreate prop",table:{type:{summary:"any"}}},hasSavePermission:{description:"hasSavePermission prop",table:{type:{summary:"any"}}},isAccountView:{description:"isAccountView prop",table:{type:{summary:"any"}}},isEditing:{description:"isEditing prop",table:{type:{summary:"any"}}},onDelete:{description:"onDelete prop",table:{type:{summary:"any"}}},onDrawerCreateNew:{description:"onDrawerCreateNew prop",table:{type:{summary:"any"}}},onDuplicate:{description:"onDuplicate prop",table:{type:{summary:"any"}}},onTakeOver:{description:"onTakeOver prop",table:{type:{summary:"any"}}},permissions:{description:"permissions prop",table:{type:{summary:"any"}}},readOnlyForIncomingUser:{description:"readOnlyForIncomingUser prop",table:{type:{summary:"any"}}},redirectAfterDelete:{description:"redirectAfterDelete prop",table:{type:{summary:"any"}}},redirectAfterDuplicate:{description:"redirectAfterDuplicate prop",table:{type:{summary:"any"}}},user:{description:"user prop",table:{type:{summary:"any"}}}},tags:["autodocs"]},Default=(args=>(0,jsx_runtime.jsx)(DocumentControls,{...args})).bind({});Default.args={};const __namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"args => <DocumentControls {...args} />",...Default.parameters?.docs?.source},description:{story:"Default state of the DocumentControls component",...Default.parameters?.docs?.description}}}}}]);