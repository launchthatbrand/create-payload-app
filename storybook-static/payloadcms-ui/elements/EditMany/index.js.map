{"version":3,"file":"index.js","names":["c","_c","useModal","React","useState","useAuth","EditDepthProvider","SelectAllStatus","useSelection","useTranslation","Drawer","EditManyDrawerContent","baseClass","EditMany","props","$","collection","t0","slug","permissions","openModal","selectAll","t","t1","Symbol","for","selectedFields","setSelectedFields","collectionPermissions","collections","drawerSlug","None","update","t2","t3","_jsxs","className","children","_jsx","onClick","type","Header"],"sources":["../../../src/elements/EditMany/index.tsx"],"sourcesContent":["'use client'\nimport type { ClientCollectionConfig } from 'payload'\n\nimport { useModal } from '@faceless-ui/modal'\nimport React, { useState } from 'react'\n\nimport type { FieldOption } from '../FieldSelect/reduceFieldOptions.js'\n\nimport { useAuth } from '../../providers/Auth/index.js'\nimport { EditDepthProvider } from '../../providers/EditDepth/index.js'\nimport { SelectAllStatus, useSelection } from '../../providers/Selection/index.js'\nimport { useTranslation } from '../../providers/Translation/index.js'\nimport { Drawer } from '../Drawer/index.js'\nimport { EditManyDrawerContent } from './DrawerContent.js'\nimport './index.scss'\n\nexport const baseClass = 'edit-many'\n\nexport type EditManyProps = {\n  readonly collection: ClientCollectionConfig\n}\n\nexport const EditMany: React.FC<EditManyProps> = (props) => {\n  const {\n    collection: { slug },\n  } = props\n\n  const { permissions } = useAuth()\n  const { openModal } = useModal()\n\n  const { selectAll } = useSelection()\n  const { t } = useTranslation()\n\n  const [selectedFields, setSelectedFields] = useState<FieldOption[]>([])\n\n  const collectionPermissions = permissions?.collections?.[slug]\n\n  const drawerSlug = `edit-${slug}`\n\n  if (selectAll === SelectAllStatus.None || !collectionPermissions?.update) {\n    return null\n  }\n\n  return (\n    <div className={baseClass}>\n      <button\n        aria-label={t('general:edit')}\n        className={`${baseClass}__toggle`}\n        onClick={() => {\n          openModal(drawerSlug)\n          setSelectedFields([])\n        }}\n        type=\"button\"\n      >\n        {t('general:edit')}\n      </button>\n      <EditDepthProvider>\n        <Drawer Header={null} slug={drawerSlug}>\n          <EditManyDrawerContent\n            collection={props.collection}\n            drawerSlug={drawerSlug}\n            selectedFields={selectedFields}\n            setSelectedFields={setSelectedFields}\n          />\n        </Drawer>\n      </EditDepthProvider>\n    </div>\n  )\n}\n"],"mappings":"AAAA;;AAAA,SAAAA,CAAA,IAAAC,EAAA;;AAGA,SAASC,QAAQ,QAAQ;AACzB,OAAOC,KAAA,IAASC,QAAQ,QAAQ;AAIhC,SAASC,OAAO,QAAQ;AACxB,SAASC,iBAAiB,QAAQ;AAClC,SAASC,eAAe,EAAEC,YAAY,QAAQ;AAC9C,SAASC,cAAc,QAAQ;AAC/B,SAASC,MAAM,QAAQ;AACvB,SAASC,qBAAqB,QAAQ;AACtC,OAAO;AAEP,OAAO,MAAMC,SAAA,GAAY;AAMzB,OAAO,MAAMC,QAAA,GAAoCC,KAAA;EAAA,MAAAC,CAAA,GAAAd,EAAA;EAC/C;IAAAe,UAAA,EAAAC;EAAA,IAEIH,KAAA;EADU;IAAAI;EAAA,IAAAD,EAAQ;EAGtB;IAAAE;EAAA,IAAwBd,OAAA;EACxB;IAAAe;EAAA,IAAsBlB,QAAA;EAEtB;IAAAmB;EAAA,IAAsBb,YAAA;EACtB;IAAAc;EAAA,IAAcb,cAAA;EAAA,IAAAc,EAAA;EAAA,IAAAR,CAAA,QAAAS,MAAA,CAAAC,GAAA;IAEsDF,EAAA;IAAER,CAAA,MAAAQ,EAAA;EAAA;IAAAA,EAAA,GAAAR,CAAA;EAAA;EAAtE,OAAAW,cAAA,EAAAC,iBAAA,IAA4CvB,QAAA,CAAwBmB,EAAE;EAEtE,MAAAK,qBAAA,GAA8BT,WAAA,EAAAU,WAAA,GAA2BX,IAAA;EAEzD,MAAAY,UAAA,GAAmB,QAAQZ,IAAA,EAAM;EAAA,IAE7BG,SAAA,KAAAd,eAAA,CAAAwB,IAAkC,KAAKH,qBAAA,EAAAI,MAAuB;IAAA;EAAA;EAAA,IAAAC,EAAA;EAAA,IAAAlB,CAAA,QAAAe,UAAA,IAAAf,CAAA,QAAAK,SAAA,IAAAL,CAAA,QAAAD,KAAA,CAAAE,UAAA,IAAAD,CAAA,QAAAW,cAAA,IAAAX,CAAA,QAAAO,CAAA;IAAA,IAAAY,EAAA;IAAA,IAAAnB,CAAA,QAAAe,UAAA,IAAAf,CAAA,QAAAK,SAAA;MASnDc,EAAA,GAAAA,CAAA;QACPd,SAAA,CAAUU,UAAA;QACVH,iBAAA,GAAoB;MAAA;MACtBZ,CAAA,MAAAe,UAAA;MAAAf,CAAA,MAAAK,SAAA;MAAAL,CAAA,MAAAmB,EAAA;IAAA;MAAAA,EAAA,GAAAnB,CAAA;IAAA;IAPJkB,EAAA,GAAAE,KAAA,CAAC;MAAAC,SAAA,EAAAxB,SAAA;MAAAyB,QAAA,GACCC,IAAA,CAAC;QAAA,cACahB,CAAA,CAAE;QAAAc,SAAA,EACH,GAAAxB,SAAA,UAAsB;QAAA2B,OAAA,EACxBL,EAGT;QAAAM,IAAA,EACK;QAAAH,QAAA,EAEJf,CAAA,CAAE;MAAA,C,GAELgB,IAAA,CAAAhC,iBAAA;QAAA+B,QAAA,EACEC,IAAA,CAAA5B,MAAA;UAAA+B,MAAA;UAAAvB,IAAA,EAA4BY,UAAA;UAAAO,QAAA,EAC1BC,IAAA,CAAA3B,qBAAA;YAAAK,UAAA,EACcF,KAAA,CAAAE,UAAA;YAAAc,UAAA;YAAAJ,cAAA;YAAAC;UAAA,C;;;;;;;;;;;;;SAfpBM,E;CAwBJ","ignoreList":[]}