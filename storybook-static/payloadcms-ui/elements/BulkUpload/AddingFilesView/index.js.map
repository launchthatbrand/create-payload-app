{"version":3,"file":"index.js","names":["c","_c","useModal","getTranslation","reduceFieldsToValues","React","useAuth","useConfig","DocumentInfoProvider","useTranslation","ActionsBar","discardBulkUploadModalSlug","DiscardWithoutSaving","EditForm","FileSidebar","useFormsManager","DrawerHeader","baseClass","AddingFilesView","$","activeIndex","collectionSlug","docPermissions","documentSlots","forms","hasPublishPermission","hasSavePermission","hasSubmitted","activeForm","getEntityConfig","i18n","user","openModal","t0","length","collectionConfig","t1","_jsxs","className","children","_jsx","onClose","title","labels","singular","currentEditor","hasPublishedDoc","id","initialData","formState","initialState","isLocked","lastUpdateTime","mostRecentVersionIsAutosaved","unpublishedVersionCount","Upload","versionCount","submitted"],"sources":["../../../../src/elements/BulkUpload/AddingFilesView/index.tsx"],"sourcesContent":["'use client'\n\nimport { useModal } from '@faceless-ui/modal'\nimport { getTranslation } from '@payloadcms/translations'\nimport { reduceFieldsToValues } from 'payload/shared'\nimport React from 'react'\n\nimport { useAuth } from '../../../providers/Auth/index.js'\nimport { useConfig } from '../../../providers/Config/index.js'\nimport { DocumentInfoProvider } from '../../../providers/DocumentInfo/index.js'\nimport { useTranslation } from '../../../providers/Translation/index.js'\nimport { ActionsBar } from '../ActionsBar/index.js'\nimport { discardBulkUploadModalSlug, DiscardWithoutSaving } from '../DiscardWithoutSaving/index.js'\nimport { EditForm } from '../EditForm/index.js'\nimport { FileSidebar } from '../FileSidebar/index.js'\nimport { useFormsManager } from '../FormsManager/index.js'\nimport { DrawerHeader } from '../Header/index.js'\nimport './index.scss'\n\nconst baseClass = 'bulk-upload--file-manager'\n\nexport function AddingFilesView() {\n  const {\n    activeIndex,\n    collectionSlug,\n    docPermissions,\n    documentSlots,\n    forms,\n    hasPublishPermission,\n    hasSavePermission,\n    hasSubmitted,\n  } = useFormsManager()\n  const activeForm = forms[activeIndex]\n  const { getEntityConfig } = useConfig()\n  const { i18n } = useTranslation()\n  const { user } = useAuth()\n  const { openModal } = useModal()\n\n  const collectionConfig = getEntityConfig({ collectionSlug })\n\n  return (\n    <div className={baseClass}>\n      <FileSidebar />\n\n      <div className={`${baseClass}__editView`}>\n        <DrawerHeader\n          onClose={() => openModal(discardBulkUploadModalSlug)}\n          title={getTranslation(collectionConfig.labels.singular, i18n)}\n        />\n        {activeForm ? (\n          <DocumentInfoProvider\n            collectionSlug={collectionSlug}\n            currentEditor={user}\n            docPermissions={docPermissions}\n            hasPublishedDoc={false}\n            hasPublishPermission={hasPublishPermission}\n            hasSavePermission={hasSavePermission}\n            id={null}\n            initialData={reduceFieldsToValues(activeForm.formState, true)}\n            initialState={activeForm.formState}\n            isLocked={false}\n            key={`${activeIndex}-${forms.length}`}\n            lastUpdateTime={0}\n            mostRecentVersionIsAutosaved={false}\n            unpublishedVersionCount={0}\n            Upload={documentSlots.Upload}\n            versionCount={0}\n          >\n            <ActionsBar collectionConfig={collectionConfig} />\n            <EditForm submitted={hasSubmitted} />\n          </DocumentInfoProvider>\n        ) : null}\n      </div>\n\n      <DiscardWithoutSaving />\n    </div>\n  )\n}\n"],"mappings":"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","ignoreList":[]}