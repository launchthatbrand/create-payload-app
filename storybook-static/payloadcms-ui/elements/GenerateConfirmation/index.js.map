{"version":3,"file":"index.js","names":["useModal","React","useCallback","toast","useDocumentInfo","useTranslation","Button","ConfirmationModal","Translation","GenerateConfirmation","props","highlightField","setKey","id","toggleModal","t","modalSlug","handleGenerate","success","_jsxs","Fragment","_jsx","buttonStyle","onClick","size","body","elements","children","i18nKey","confirmLabel","heading","onConfirm"],"sources":["../../../src/elements/GenerateConfirmation/index.tsx"],"sourcesContent":["'use client'\nimport { useModal } from '@faceless-ui/modal'\nimport React, { useCallback } from 'react'\nimport { toast } from 'sonner'\n\nimport { useDocumentInfo } from '../../providers/DocumentInfo/index.js'\nimport { useTranslation } from '../../providers/Translation/index.js'\nimport { Button } from '../Button/index.js'\nimport { ConfirmationModal } from '../ConfirmationModal/index.js'\nimport { Translation } from '../Translation/index.js'\n\nexport type GenerateConfirmationProps = {\n  highlightField: (Boolean) => void\n  setKey: () => void\n}\n\nexport function GenerateConfirmation(props: GenerateConfirmationProps) {\n  const { highlightField, setKey } = props\n\n  const { id } = useDocumentInfo()\n  const { toggleModal } = useModal()\n  const { t } = useTranslation()\n\n  const modalSlug = `generate-confirmation-${id}`\n\n  const handleGenerate = useCallback(() => {\n    setKey()\n    toast.success(t('authentication:newAPIKeyGenerated'))\n    highlightField(true)\n  }, [highlightField, setKey, t])\n\n  return (\n    <React.Fragment>\n      <Button\n        buttonStyle=\"secondary\"\n        onClick={() => {\n          toggleModal(modalSlug)\n        }}\n        size=\"small\"\n      >\n        {t('authentication:generateNewAPIKey')}\n      </Button>\n      <ConfirmationModal\n        body={\n          <Translation\n            elements={{\n              1: ({ children }) => <strong>{children}</strong>,\n            }}\n            i18nKey=\"authentication:generatingNewAPIKeyWillInvalidate\"\n            t={t}\n          />\n        }\n        confirmLabel={t('authentication:generate')}\n        heading={t('authentication:confirmGeneration')}\n        modalSlug={modalSlug}\n        onConfirm={handleGenerate}\n      />\n    </React.Fragment>\n  )\n}\n"],"mappings":"AAAA;;;AACA,SAASA,QAAQ,QAAQ;AACzB,OAAOC,KAAA,IAASC,WAAW,QAAQ;AACnC,SAASC,KAAK,QAAQ;AAEtB,SAASC,eAAe,QAAQ;AAChC,SAASC,cAAc,QAAQ;AAC/B,SAASC,MAAM,QAAQ;AACvB,SAASC,iBAAiB,QAAQ;AAClC,SAASC,WAAW,QAAQ;AAO5B,OAAO,SAASC,qBAAqBC,KAAgC;EACnE,MAAM;IAAEC,cAAc;IAAEC;EAAM,CAAE,GAAGF,KAAA;EAEnC,MAAM;IAAEG;EAAE,CAAE,GAAGT,eAAA;EACf,MAAM;IAAEU;EAAW,CAAE,GAAGd,QAAA;EACxB,MAAM;IAAEe;EAAC,CAAE,GAAGV,cAAA;EAEd,MAAMW,SAAA,GAAY,yBAAyBH,EAAA,EAAI;EAE/C,MAAMI,cAAA,GAAiBf,WAAA,CAAY;IACjCU,MAAA;IACAT,KAAA,CAAMe,OAAO,CAACH,CAAA,CAAE;IAChBJ,cAAA,CAAe;EACjB,GAAG,CAACA,cAAA,EAAgBC,MAAA,EAAQG,CAAA,CAAE;EAE9B,oBACEI,KAAA,CAAClB,KAAA,CAAMmB,QAAQ;4BACbC,IAAA,CAACf,MAAA;MACCgB,WAAA,EAAY;MACZC,OAAA,EAASA,CAAA;QACPT,WAAA,CAAYE,SAAA;MACd;MACAQ,IAAA,EAAK;gBAEJT,CAAA,CAAE;qBAELM,IAAA,CAACd,iBAAA;MACCkB,IAAA,eACEJ,IAAA,CAACb,WAAA;QACCkB,QAAA,EAAU;UACR,GAAG,CAAC;YAAEC;UAAQ,CAAE,kBAAKN,IAAA,CAAC;sBAAQM;;QAChC;QACAC,OAAA,EAAQ;QACRb,CAAA,EAAGA;;MAGPc,YAAA,EAAcd,CAAA,CAAE;MAChBe,OAAA,EAASf,CAAA,CAAE;MACXC,SAAA,EAAWA,SAAA;MACXe,SAAA,EAAWd;;;AAInB","ignoreList":[]}