{"version":3,"file":"filterFields.js","names":["fieldIsHiddenOrDisabled","fieldIsID","filterFields","incomingFields","shouldSkipField","field","type","admin","disableListColumn","fields","reduce","acc","formattedField","tabs","map","tab","filter","tabField","push"],"sources":["../../../src/providers/TableColumns/filterFields.tsx"],"sourcesContent":["import type { ClientField, Field } from 'payload'\n\nimport { fieldIsHiddenOrDisabled, fieldIsID } from 'payload/shared'\n\n/**\n * Filters fields that are hidden, disabled, or have `disableListColumn` set to `true`\n * Does so recursively for `tabs` fields.\n */\nexport const filterFields = <T extends ClientField | Field>(incomingFields: T[]): T[] => {\n  const shouldSkipField = (field: T): boolean =>\n    (field.type !== 'ui' && fieldIsHiddenOrDisabled(field) && !fieldIsID(field)) ||\n    field?.admin?.disableListColumn === true\n\n  const fields: T[] = incomingFields?.reduce((acc, field) => {\n    if (shouldSkipField(field)) {\n      return acc\n    }\n\n    // extract top-level `tabs` fields and filter out the same\n    const formattedField: T =\n      field.type === 'tabs' && 'tabs' in field\n        ? {\n            ...field,\n            tabs: field.tabs.map((tab) => ({\n              ...tab,\n              fields: tab.fields.filter((tabField) => !shouldSkipField(tabField)),\n            })),\n          }\n        : field\n\n    acc.push(formattedField)\n\n    return acc\n  }, [])\n\n  return fields\n}\n"],"mappings":"AAEA,SAASA,uBAAuB,EAAEC,SAAS,QAAQ;AAEnD;;;;AAIA,OAAO,MAAMC,YAAA,GAA+CC,cAAA;EAC1D,MAAMC,eAAA,GAAmBC,KAAA,IACvBA,KAAC,CAAMC,IAAI,KAAK,QAAQN,uBAAA,CAAwBK,KAAA,KAAU,CAACJ,SAAA,CAAUI,KAAA,KACrEA,KAAA,EAAOE,KAAA,EAAOC,iBAAA,KAAsB;EAEtC,MAAMC,MAAA,GAAcN,cAAA,EAAgBO,MAAA,CAAO,CAACC,GAAA,EAAKN,KAAA;IAC/C,IAAID,eAAA,CAAgBC,KAAA,GAAQ;MAC1B,OAAOM,GAAA;IACT;IAEA;IACA,MAAMC,cAAA,GACJP,KAAA,CAAMC,IAAI,KAAK,UAAU,UAAUD,KAAA,GAC/B;MACE,GAAGA,KAAK;MACRQ,IAAA,EAAMR,KAAA,CAAMQ,IAAI,CAACC,GAAG,CAAEC,GAAA,KAAS;QAC7B,GAAGA,GAAG;QACNN,MAAA,EAAQM,GAAA,CAAIN,MAAM,CAACO,MAAM,CAAEC,QAAA,IAAa,CAACb,eAAA,CAAgBa,QAAA;MAC3D;IACF,IACAZ,KAAA;IAENM,GAAA,CAAIO,IAAI,CAACN,cAAA;IAET,OAAOD,GAAA;EACT,GAAG,EAAE;EAEL,OAAOF,MAAA;AACT","ignoreList":[]}