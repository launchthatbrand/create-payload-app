{"version":3,"file":"Input.js","names":["c","_c","getTranslation","React","ReactSelect","RenderCustomComponent","FieldDescription","FieldError","FieldLabel","useTranslation","fieldBaseClass","SelectInput","props","$","AfterInput","BeforeInput","className","Description","description","Error","hasMany","t0","isClearable","t1","isSortable","t2","label","Label","localized","onChange","onInputChange","options","path","readOnly","required","showError","style","value","undefined","i18n","t3","valueToRender","Array","isArray","t4","val","matchingOption","find","option","map","matchingOption_0","t5","option_0","t6","filter","Boolean","t7","option_1","_jsxs","join","id","replace","children","_jsx","CustomComponent","Fallback","disabled","isMulti"],"sources":["../../../src/fields/Select/Input.tsx"],"sourcesContent":["'use client'\nimport type { OptionObject, StaticDescription, StaticLabel } from 'payload'\n\nimport { getTranslation } from '@payloadcms/translations'\nimport React from 'react'\n\nimport type { ReactSelectAdapterProps } from '../../elements/ReactSelect/types.js'\n\nimport { ReactSelect } from '../../elements/ReactSelect/index.js'\nimport { RenderCustomComponent } from '../../elements/RenderCustomComponent/index.js'\nimport { FieldDescription } from '../../fields/FieldDescription/index.js'\nimport { FieldError } from '../../fields/FieldError/index.js'\nimport { FieldLabel } from '../../fields/FieldLabel/index.js'\nimport { useTranslation } from '../../providers/Translation/index.js'\nimport { fieldBaseClass } from '../shared/index.js'\nimport './index.scss'\n\nexport type SelectInputProps = {\n  readonly AfterInput?: React.ReactNode\n  readonly BeforeInput?: React.ReactNode\n  readonly className?: string\n  readonly Description?: React.ReactNode\n  readonly description?: StaticDescription\n  readonly Error?: React.ReactNode\n  readonly hasMany?: boolean\n  readonly isClearable?: boolean\n  readonly isSortable?: boolean\n  readonly Label?: React.ReactNode\n  readonly label?: StaticLabel\n  readonly localized?: boolean\n  readonly name: string\n  readonly onChange?: ReactSelectAdapterProps['onChange']\n  readonly onInputChange?: ReactSelectAdapterProps['onInputChange']\n  readonly options?: OptionObject[]\n  readonly path: string\n  readonly readOnly?: boolean\n  readonly required?: boolean\n  readonly showError?: boolean\n  readonly style?: React.CSSProperties\n  readonly value?: string | string[]\n}\n\nexport const SelectInput: React.FC<SelectInputProps> = (props) => {\n  const {\n    AfterInput,\n    BeforeInput,\n    className,\n    Description,\n    description,\n    Error,\n    hasMany = false,\n    isClearable = true,\n    isSortable = true,\n    label,\n    Label,\n    localized,\n    onChange,\n    onInputChange,\n    options,\n    path,\n    readOnly,\n    required,\n    showError,\n    style,\n    value,\n  } = props\n\n  const { i18n } = useTranslation()\n\n  let valueToRender\n\n  if (hasMany && Array.isArray(value)) {\n    valueToRender = value.map((val) => {\n      const matchingOption = options.find((option) => option.value === val)\n      return {\n        label: matchingOption ? getTranslation(matchingOption.label, i18n) : val,\n        value: matchingOption?.value ?? val,\n      }\n    })\n  } else if (value) {\n    const matchingOption = options.find((option) => option.value === value)\n    valueToRender = {\n      label: matchingOption ? getTranslation(matchingOption.label, i18n) : value,\n      value: matchingOption?.value ?? value,\n    }\n  } else {\n    // If value is not present then render nothing, allowing select fields to reset to their initial 'Select an option' state\n    valueToRender = null\n  }\n\n  return (\n    <div\n      className={[\n        fieldBaseClass,\n        'select',\n        className,\n        showError && 'error',\n        readOnly && 'read-only',\n      ]\n        .filter(Boolean)\n        .join(' ')}\n      id={`field-${path.replace(/\\./g, '__')}`}\n      style={style}\n    >\n      <RenderCustomComponent\n        CustomComponent={Label}\n        Fallback={\n          <FieldLabel label={label} localized={localized} path={path} required={required} />\n        }\n      />\n      <div className={`${fieldBaseClass}__wrap`}>\n        <RenderCustomComponent\n          CustomComponent={Error}\n          Fallback={<FieldError path={path} showError={showError} />}\n        />\n        {BeforeInput}\n        <ReactSelect\n          disabled={readOnly}\n          isClearable={isClearable}\n          isMulti={hasMany}\n          isSortable={isSortable}\n          onChange={onChange}\n          onInputChange={onInputChange}\n          options={options.map((option) => ({\n            ...option,\n            label: getTranslation(option.label, i18n),\n          }))}\n          showError={showError}\n          value={valueToRender as OptionObject}\n        />\n        {AfterInput}\n      </div>\n      <RenderCustomComponent\n        CustomComponent={Description}\n        Fallback={<FieldDescription description={description} path={path} />}\n      />\n    </div>\n  )\n}\n"],"mappings":"AAAA;;AAAA,SAAAA,CAAA,IAAAC,EAAA;;AAGA,SAASC,cAAc,QAAQ;AAC/B,OAAOC,KAAA,MAAW;AAIlB,SAASC,WAAW,QAAQ;AAC5B,SAASC,qBAAqB,QAAQ;AACtC,SAASC,gBAAgB,QAAQ;AACjC,SAASC,UAAU,QAAQ;AAC3B,SAASC,UAAU,QAAQ;AAC3B,SAASC,cAAc,QAAQ;AAC/B,SAASC,cAAc,QAAQ;AAC/B,OAAO;AA2BP,OAAO,MAAMC,WAAA,GAA0CC,KAAA;EAAA,MAAAC,CAAA,GAAAZ,EAAA;EACrD;IAAAa,UAAA;IAAAC,WAAA;IAAAC,SAAA;IAAAC,WAAA;IAAAC,WAAA;IAAAC,KAAA;IAAAC,OAAA,EAAAC,EAAA;IAAAC,WAAA,EAAAC,EAAA;IAAAC,UAAA,EAAAC,EAAA;IAAAC,KAAA;IAAAC,KAAA;IAAAC,SAAA;IAAAC,QAAA;IAAAC,aAAA;IAAAC,OAAA;IAAAC,IAAA;IAAAC,QAAA;IAAAC,QAAA;IAAAC,SAAA;IAAAC,KAAA;IAAAC;EAAA,IAsBIzB,KAAA;EAfF,MAAAQ,OAAA,GAAAC,EAAe,KAAAiB,SAAA,WAAfjB,EAAe;EACf,MAAAC,WAAA,GAAAC,EAAkB,KAAAe,SAAA,UAAlBf,EAAkB;EAClB,MAAAC,UAAA,GAAAC,EAAiB,KAAAa,SAAA,UAAjBb,EAAiB;EAenB;IAAAc;EAAA,IAAiB9B,cAAA;EAAA,IAAA+B,EAAA;EAAA,IAAA3B,CAAA,QAAAC,UAAA,IAAAD,CAAA,QAAAE,WAAA,IAAAF,CAAA,QAAAI,WAAA,IAAAJ,CAAA,QAAAM,KAAA,IAAAN,CAAA,QAAAc,KAAA,IAAAd,CAAA,QAAAG,SAAA,IAAAH,CAAA,QAAAK,WAAA,IAAAL,CAAA,QAAAO,OAAA,IAAAP,CAAA,QAAA0B,IAAA,IAAA1B,CAAA,QAAAS,WAAA,IAAAT,CAAA,SAAAW,UAAA,IAAAX,CAAA,SAAAa,KAAA,IAAAb,CAAA,SAAAe,SAAA,IAAAf,CAAA,SAAAgB,QAAA,IAAAhB,CAAA,SAAAiB,aAAA,IAAAjB,CAAA,SAAAkB,OAAA,IAAAlB,CAAA,SAAAmB,IAAA,IAAAnB,CAAA,SAAAoB,QAAA,IAAApB,CAAA,SAAAqB,QAAA,IAAArB,CAAA,SAAAsB,SAAA,IAAAtB,CAAA,SAAAuB,KAAA,IAAAvB,CAAA,SAAAwB,KAAA;IAEbI,GAAA,CAAAA,aAAA;IAAA,IAEArB,OAAA,IAAWsB,KAAA,CAAAC,OAAA,CAAcN,KAAA;MAAA,IAAAO,EAAA;MAAA,IAAA/B,CAAA,SAAA0B,IAAA,IAAA1B,CAAA,SAAAkB,OAAA;QACDa,EAAA,GAAAC,GAAA;UACxB,MAAAC,cAAA,GAAuBf,OAAA,CAAAgB,IAAA,CAAAC,MAAA,IAAyBA,MAAA,CAAAX,KAAA,KAAiBQ,GAAA;UAAA;YAAAnB,KAAA,EAExDoB,cAAA,GAAiB5C,cAAA,CAAe4C,cAAA,CAAApB,KAAA,EAAsBa,IAAA,IAAQM,GAAA;YAAAR,KAAA,EAC9DS,cAAA,EAAAT,KAAA,IAAyBQ;UAAA;QAAA;QAEpChC,CAAA,OAAA0B,IAAA;QAAA1B,CAAA,OAAAkB,OAAA;QAAAlB,CAAA,OAAA+B,EAAA;MAAA;QAAAA,EAAA,GAAA/B,CAAA;MAAA;MANA4B,aAAA,CAAAA,CAAA,CAAgBJ,KAAA,CAAAY,GAAA,CAAUL,EAM1B;IANA;MAAA,IAOSP,KAAA;QAAA,IAAAa,gBAAA;QAAA,IAAAN,EAAA;QAAA,IAAA/B,CAAA,SAAA0B,IAAA,IAAA1B,CAAA,SAAAkB,OAAA,IAAAlB,CAAA,SAAAwB,KAAA;UAAA,IAAAc,EAAA;UAAA,IAAAtC,CAAA,SAAAwB,KAAA;YAC2Bc,EAAA,GAAAC,QAAA,IAAYJ,QAAA,CAAAX,KAAA,KAAiBA,KAAA;YAAAxB,CAAA,OAAAwB,KAAA;YAAAxB,CAAA,OAAAsC,EAAA;UAAA;YAAAA,EAAA,GAAAtC,CAAA;UAAA;UAAjEqC,gBAAA,GAAuBnB,OAAA,CAAAgB,IAAA,CAAaI,EAA6B;UAExDP,EAAA,GAAAE,gBAAA,GAAiB5C,cAAA,CAAe4C,gBAAA,CAAApB,KAAA,EAAsBa,IAAA,IAAQF,KAAA;UAAAxB,CAAA,OAAA0B,IAAA;UAAA1B,CAAA,OAAAkB,OAAA;UAAAlB,CAAA,OAAAwB,KAAA;UAAAxB,CAAA,OAAAqC,gBAAA;UAAArC,CAAA,OAAA+B,EAAA;QAAA;UAAAM,gBAAA,GAAArC,CAAA;UAAA+B,EAAA,GAAA/B,CAAA;QAAA;QADvE4B,aAAA,CAAAA,CAAA,CAAAA;UAAAA,MAAA,CACSA,EAA8DA;UAAAA,MAAA,CAC9DK,gBAAA,EAAAT,KAAA,IAAyBA;QAAA;MAFlC;QAMAI,aAAA,CAAAA,CAAA,CAAAA,IAAA;MAAA;IAAA;IASI,MAAAG,EAAA,GAAAT,SAAA,IAAa;IACb,MAAAgB,EAAA,GAAAlB,QAAA,IAAY;IAAA,IAAAoB,EAAA;IAAA,IAAAxC,CAAA,SAAAG,SAAA,IAAAH,CAAA,SAAA+B,EAAA,IAAA/B,CAAA,SAAAsC,EAAA;MALHE,EAAA,IAAA3C,cAAA,EAET,UACAM,SAAA,EACA4B,EAAa,EACbO,EAAY,EAAAG,MAAA,CAAAC,OAEJ;MAAA1C,CAAA,OAAAG,SAAA;MAAAH,CAAA,OAAA+B,EAAA;MAAA/B,CAAA,OAAAsC,EAAA;MAAAtC,CAAA,OAAAwC,EAAA;IAAA;MAAAA,EAAA,GAAAxC,CAAA;IAAA;IAAA,IAAA2C,EAAA;IAAA,IAAA3C,CAAA,SAAA0B,IAAA;MAwBeiB,EAAA,GAAAC,QAAA;QAAA,GAChBT,QAAM;QAAAtB,KAAA,EACFxB,cAAA,CAAe8C,QAAA,CAAAtB,KAAA,EAAca,IAAA;MAAA;MACtC1B,CAAA,OAAA0B,IAAA;MAAA1B,CAAA,OAAA2C,EAAA;IAAA;MAAAA,EAAA,GAAA3C,CAAA;IAAA;IAnCN2B,EAAA,GAAAkB,KAAA,CAAC;MAAA1C,SAAA,EACYqC,EAOD,CAAAM,IAAA,CACF;MAAAC,EAAA,EACJ,SAAS5B,IAAA,CAAA6B,OAAA,QAAoB,OAAO;MAAAzB,KAAA;MAAA0B,QAAA,GAGxCC,IAAA,CAAA1D,qBAAA;QAAA2D,eAAA,EACmBrC,KAAA;QAAAsC,QAAA,EAEfF,IAAA,CAAAvD,UAAA;UAAAkB,KAAA;UAAAE,SAAA;UAAAI,IAAA;UAAAE;QAAA,C;UAGJwB,KAAA,CAAC;QAAA1C,SAAA,EAAe,GAAAN,cAAA,QAAyB;QAAAoD,QAAA,GACvCC,IAAA,CAAA1D,qBAAA;UAAA2D,eAAA,EACmB7C,KAAA;UAAA8C,QAAA,EACPF,IAAA,CAAAxD,UAAA;YAAAyB,IAAA;YAAAG;UAAA,C;YAEXpB,WAAA,EACDgD,IAAA,CAAA3D,WAAA;UAAA8D,QAAA,EACYjC,QAAA;UAAAX,WAAA;UAAA6C,OAAA,EAED/C,OAAA;UAAAI,UAAA;UAAAK,QAAA;UAAAC,aAAA;UAAAC,OAAA,EAIAA,OAAA,CAAAkB,GAAA,CAAYO,EAGrB;UAAArB,SAAA;UAAAE,KAAA,EAEOI;QAAA,C,GAER3B,UAAA;MAAA,C,GAEHiD,IAAA,CAAA1D,qBAAA;QAAA2D,eAAA,EACmB/C,WAAA;QAAAgD,QAAA,EACPF,IAAA,CAAAzD,gBAAA;UAAAY,WAAA;UAAAc;QAAA,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;SA3CdQ,E;CA+CJ","ignoreList":[]}