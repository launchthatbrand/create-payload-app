{"version":3,"file":"findOptionsByValue.js","names":["findOptionsByValue","allowEdit","options","value","Array","isArray","map","val","matchedOption","forEach","optGroup","find","option","relationTo","undefined"],"sources":["../../../src/fields/Relationship/findOptionsByValue.ts"],"sourcesContent":["'use client'\nimport type { Option } from '../../elements/ReactSelect/types.js'\nimport type { OptionGroup, Value } from './types.js'\n\ntype Args = {\n  allowEdit: boolean\n  options: OptionGroup[]\n  value: Value | Value[]\n}\n\nexport const findOptionsByValue = ({ allowEdit, options, value }: Args): Option | Option[] => {\n  if (value || typeof value === 'number') {\n    if (Array.isArray(value)) {\n      return value.map((val) => {\n        let matchedOption: Option\n\n        options.forEach((optGroup) => {\n          if (!matchedOption) {\n            matchedOption = optGroup.options.find((option) => {\n              if (typeof val === 'object') {\n                return option.value === val.value && option.relationTo === val.relationTo\n              }\n\n              return val === option.value\n            })\n          }\n        })\n\n        return matchedOption ? { allowEdit, ...matchedOption } : undefined\n      })\n    }\n\n    let matchedOption: Option\n\n    options.forEach((optGroup) => {\n      if (!matchedOption) {\n        matchedOption = optGroup.options.find((option) => {\n          if (typeof value === 'object') {\n            return option.value === value.value && option.relationTo === value.relationTo\n          }\n          return value === option.value\n        })\n      }\n    })\n\n    return matchedOption ? { allowEdit, ...matchedOption } : undefined\n  }\n\n  return undefined\n}\n"],"mappings":"AAAA;;AAUA,OAAO,MAAMA,kBAAA,GAAqBA,CAAC;EAAEC,SAAS;EAAEC,OAAO;EAAEC;AAAK,CAAQ;EACpE,IAAIA,KAAA,IAAS,OAAOA,KAAA,KAAU,UAAU;IACtC,IAAIC,KAAA,CAAMC,OAAO,CAACF,KAAA,GAAQ;MACxB,OAAOA,KAAA,CAAMG,GAAG,CAAEC,GAAA;QAChB,IAAIC,aAAA;QAEJN,OAAA,CAAQO,OAAO,CAAEC,QAAA;UACf,IAAI,CAACF,aAAA,EAAe;YAClBA,aAAA,GAAgBE,QAAA,CAASR,OAAO,CAACS,IAAI,CAAEC,MAAA;cACrC,IAAI,OAAOL,GAAA,KAAQ,UAAU;gBAC3B,OAAOK,MAAA,CAAOT,KAAK,KAAKI,GAAA,CAAIJ,KAAK,IAAIS,MAAA,CAAOC,UAAU,KAAKN,GAAA,CAAIM,UAAU;cAC3E;cAEA,OAAON,GAAA,KAAQK,MAAA,CAAOT,KAAK;YAC7B;UACF;QACF;QAEA,OAAOK,aAAA,GAAgB;UAAEP,SAAA;UAAW,GAAGO;QAAc,IAAIM,SAAA;MAC3D;IACF;IAEA,IAAIN,aAAA;IAEJN,OAAA,CAAQO,OAAO,CAAEC,QAAA;MACf,IAAI,CAACF,aAAA,EAAe;QAClBA,aAAA,GAAgBE,QAAA,CAASR,OAAO,CAACS,IAAI,CAAEC,MAAA;UACrC,IAAI,OAAOT,KAAA,KAAU,UAAU;YAC7B,OAAOS,MAAA,CAAOT,KAAK,KAAKA,KAAA,CAAMA,KAAK,IAAIS,MAAA,CAAOC,UAAU,KAAKV,KAAA,CAAMU,UAAU;UAC/E;UACA,OAAOV,KAAA,KAAUS,MAAA,CAAOT,KAAK;QAC/B;MACF;IACF;IAEA,OAAOK,aAAA,GAAgB;MAAEP,SAAA;MAAW,GAAGO;IAAc,IAAIM,SAAA;EAC3D;EAEA,OAAOA,SAAA;AACT","ignoreList":[]}