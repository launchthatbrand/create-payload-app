"use strict";(self.webpackChunkcreate_payload_app=self.webpackChunkcreate_payload_app||[]).push([[32],{"./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/CopyToClipboard/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$:()=>CopyToClipboard});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/index.js"),_icons_Copy_index_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/icons/Copy/index.js"),_providers_Translation_index_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/Translation/index.js"),_Tooltip_index_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/Tooltip/index.js");const CopyToClipboard=({defaultMessage,successMessage,value})=>{const ref=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null),[copied,setCopied]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),[hovered,setHovered]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),{t}=(0,_providers_Translation_index_js__WEBPACK_IMPORTED_MODULE_2__.B)();return value?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button",{className:"copy-to-clipboard",onClick:()=>{ref&&ref.current&&(ref.current.select(),ref.current.setSelectionRange(0,value.length+1),document.execCommand("copy"),setCopied(!0))},onMouseEnter:()=>{setHovered(!0),setCopied(!1)},onMouseLeave:()=>{setHovered(!1),setCopied(!1)},type:"button",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_icons_Copy_index_js__WEBPACK_IMPORTED_MODULE_3__.T,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_Tooltip_index_js__WEBPACK_IMPORTED_MODULE_4__.m,{delay:copied?0:void 0,show:hovered||copied,children:[copied&&(successMessage??t("general:copied")),!copied&&(defaultMessage??t("general:copy"))]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("textarea",{readOnly:!0,ref,tabIndex:-1,value})]}):null}},"./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/Tooltip/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{m:()=>Tooltip});var react_compiler_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/compiler-runtime.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/index.js"),_hooks_useIntersect_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/hooks/useIntersect.js");const Tooltip=props=>{const $=(0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_0__.c)(26),{alignCaret:t0,boundingRef,children,className,delay:t1,position:positionFromProps,show:t2,staticPositioning:t3}=props,alignCaret=void 0===t0?"center":t0,delay=void 0===t1?350:t1,showFromProps=void 0===t2||t2,staticPositioning=void 0!==t3&&t3,[show,setShow]=react__WEBPACK_IMPORTED_MODULE_2__.useState(showFromProps),[position,setPosition]=react__WEBPACK_IMPORTED_MODULE_2__.useState("top"),getTitleAttribute=_temp,t4=boundingRef?.current||null;let t5;$[0]!==t4?(t5={root:t4,rootMargin:"-145px 0px 0px 100px",threshold:0},$[0]=t4,$[1]=t5):t5=$[1];const[ref,intersectionEntry]=(0,_hooks_useIntersect_js__WEBPACK_IMPORTED_MODULE_3__.R)(t5,staticPositioning);let t6,t7,t8,t9,t10;if($[2]!==delay||$[3]!==showFromProps?(t6=()=>{let timerID;return delay&&showFromProps?timerID=setTimeout((()=>{setShow(showFromProps)}),delay):setShow(showFromProps),()=>{timerID&&clearTimeout(timerID)}},t7=[showFromProps,delay],$[2]=delay,$[3]=showFromProps,$[4]=t6,$[5]=t7):(t6=$[4],t7=$[5]),(0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(t6,t7),$[6]!==intersectionEntry?.isIntersecting||$[7]!==staticPositioning?(t8=()=>{staticPositioning||setPosition(intersectionEntry?.isIntersecting?"top":"bottom")},$[6]=intersectionEntry?.isIntersecting,$[7]=staticPositioning,$[8]=t8):t8=$[8],$[9]!==intersectionEntry||$[10]!==staticPositioning?(t9=[intersectionEntry,staticPositioning],$[9]=intersectionEntry,$[10]=staticPositioning,$[11]=t9):t9=$[11],(0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(t8,t9),$[12]!==alignCaret||$[13]!==children||$[14]!==className||$[15]!==position||$[16]!==positionFromProps||$[17]!==ref||$[18]!==show||$[19]!==staticPositioning){const t11=show&&"tooltip--show",t12=`tooltip--caret-${alignCaret}`,t13=`tooltip--position-${positionFromProps||position}`;let t14;$[21]!==className||$[22]!==t11||$[23]!==t12||$[24]!==t13?(t14=["tooltip",className,t11,t12,t13].filter(Boolean),$[21]=className,$[22]=t11,$[23]=t12,$[24]=t13,$[25]=t14):t14=$[25],t10=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react__WEBPACK_IMPORTED_MODULE_2__.Fragment,{children:[!staticPositioning&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("aside",{"aria-hidden":"true",className:["tooltip",className,`tooltip--caret-${alignCaret}`,"tooltip--position-top"].filter(Boolean).join(" "),ref,style:{opacity:"0"},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{className:"tooltip-content",children})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("aside",{className:t14.join(" "),title:getTitleAttribute(children),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{className:"tooltip-content",children})})]}),$[12]=alignCaret,$[13]=children,$[14]=className,$[15]=position,$[16]=positionFromProps,$[17]=ref,$[18]=show,$[19]=staticPositioning,$[20]=t10}else t10=$[20];return t10};function _temp(content){return"string"==typeof content?content:""}},"./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/hooks/useIntersect.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{R:()=>useIntersect});var react_compiler_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/compiler-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/index.js");const useIntersect=(t0,disable)=>{const $=(0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_0__.c)(14);let t1;$[0]!==t0?(t1=void 0===t0?{}:t0,$[0]=t0,$[1]=t1):t1=$[1];const{root:t2,rootMargin:t3,threshold:t4}=t1,root=void 0===t2?null:t2,rootMargin=void 0===t3?"0px":t3,threshold=void 0===t4?0:t4,[entry,updateEntry]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(),[node,setNode]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);let t5;$[2]!==disable||$[3]!==root||$[4]!==rootMargin||$[5]!==threshold?(t5="undefined"!=typeof window&&"IntersectionObserver"in window&&!disable?new window.IntersectionObserver((t6=>{const[ent]=t6;return updateEntry(ent)}),{root,rootMargin,threshold}):null,$[2]=disable,$[3]=root,$[4]=rootMargin,$[5]=threshold,$[6]=t5):t5=$[6];const observer=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(t5);let t6,t7,t8;return $[7]!==disable||$[8]!==node?(t6=()=>{if(disable)return;const{current:currentObserver}=observer;return currentObserver.disconnect(),node&&currentObserver.observe(node),()=>currentObserver.disconnect()},t7=[node,disable],$[7]=disable,$[8]=node,$[9]=t6,$[10]=t7):(t6=$[9],t7=$[10]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(t6,t7),$[11]!==entry||$[12]!==node?(t8=[setNode,entry,node],$[11]=entry,$[12]=node,$[13]=t8):t8=$[13],t8}},"./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/icons/Copy/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{T:()=>CopyIcon});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/jsx-runtime.js");__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/index.js");const CopyIcon=()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("svg",{className:"icon icon--copy",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path",{className:"stroke",d:"M4.66666 12.6667C3.93333 12.6667 3.33333 12.0667 3.33333 11.3333V4.66668C3.33333 3.93334 3.93333 3.33334 4.66666 3.33334H11.3333C12.0667 3.33334 12.6667 3.93334 12.6667 4.66668M8.66666 7.33334H15.3333C16.0697 7.33334 16.6667 7.9303 16.6667 8.66668V15.3333C16.6667 16.0697 16.0697 16.6667 15.3333 16.6667H8.66666C7.93028 16.6667 7.33333 16.0697 7.33333 15.3333V8.66668C7.33333 7.9303 7.93028 7.33334 8.66666 7.33334Z",strokeLinecap:"square"})})},"./node_modules/.pnpm/payload@3.31.0_graphql@16.10.0_typescript@5.7.3/node_modules/payload/dist/uploads/formatFilesize.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function formatFilesize(bytes,decimals=0){if(0===bytes)return"0 bytes";const dm=decimals<0?0:decimals,i=Math.floor(Math.log(bytes)/Math.log(1024));return`${parseFloat((bytes/1024**i).toFixed(dm))}${[" bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][i]}`}__webpack_require__.d(__webpack_exports__,{B:()=>formatFilesize})},"./src/stories/PreviewSizes/PreviewSizes.stories.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>PreviewSizes_stories});var jsx_runtime=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/index.js"),formatFilesize=__webpack_require__("./node_modules/.pnpm/payload@3.31.0_graphql@16.10.0_typescript@5.7.3/node_modules/payload/dist/uploads/formatFilesize.js"),CopyToClipboard=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/CopyToClipboard/index.js");const FileMeta=props=>{const{filename,filesize,height,mimeType,url:fileURL,width}=props;return(0,jsx_runtime.jsxs)("div",{className:"file-meta",children:[(0,jsx_runtime.jsxs)("div",{className:"file-meta__url",children:[(0,jsx_runtime.jsx)("a",{href:fileURL,rel:"noopener noreferrer",target:"_blank",children:filename}),(0,jsx_runtime.jsx)(CopyToClipboard.$,{defaultMessage:"Copy URL",value:fileURL})]}),(0,jsx_runtime.jsxs)("div",{className:"file-meta__size-type",children:[(0,formatFilesize.B)(filesize),"number"==typeof width&&"number"==typeof height&&(0,jsx_runtime.jsxs)(react.Fragment,{children:[" - ",width,"x",height]}),mimeType&&(0,jsx_runtime.jsxs)(react.Fragment,{children:[" - ",mimeType]})]})]})},sortSizes=(sizes,imageSizes)=>{if(!imageSizes||0===imageSizes.length)return sizes;const orderedSizes={};return imageSizes.forEach((({name})=>{sizes[name]&&(orderedSizes[name]=sizes[name])})),orderedSizes},PreviewSizeCard=({name,active,meta,onClick,previewSrc})=>(0,jsx_runtime.jsxs)("div",{className:["preview-sizes__sizeOption",active&&"preview-sizes--selected"].filter(Boolean).join(" "),onClick:"function"==typeof onClick?onClick:void 0,onKeyDown:e=>{"function"==typeof onClick&&"Enter"===e.key&&onClick()},role:"button",tabIndex:0,children:[(0,jsx_runtime.jsx)("div",{className:"preview-sizes__image",children:(0,jsx_runtime.jsx)("img",{alt:meta.filename,src:previewSrc})}),(0,jsx_runtime.jsxs)("div",{className:"preview-sizes__sizeMeta",children:[(0,jsx_runtime.jsx)("div",{className:"preview-sizes__sizeName",children:name}),(0,jsx_runtime.jsx)(FileMeta,{...meta})]})]}),PreviewSizes=({doc,imageCacheTag,uploadConfig})=>{const{imageSizes}=uploadConfig,{sizes}=doc,[orderedSizes,setOrderedSizes]=(0,react.useState)((()=>sortSizes(sizes,imageSizes))),[selectedSize,setSelectedSize]=(0,react.useState)(null),generateImageUrl=doc_0=>doc_0.filename?doc_0.url?`${doc_0.url}${imageCacheTag?`?${encodeURIComponent(imageCacheTag)}`:""}`:void 0:null;(0,react.useEffect)((()=>{setOrderedSizes(sortSizes(sizes,imageSizes))}),[sizes,imageSizes,imageCacheTag]);const mainPreviewSrc=generateImageUrl(selectedSize?doc.sizes[selectedSize]:doc),originalImage=(0,react.useMemo)((()=>({filename:doc.filename,filesize:doc.filesize,height:doc.height,mimeType:doc.mimeType,url:doc.url,width:doc.width})),[doc]);return(0,jsx_runtime.jsxs)("div",{className:"preview-sizes",children:[(0,jsx_runtime.jsxs)("div",{className:"preview-sizes__imageWrap",children:[(0,jsx_runtime.jsxs)("div",{className:"preview-sizes__meta",children:[(0,jsx_runtime.jsx)("div",{className:"preview-sizes__sizeName",children:selectedSize||"Original"}),(0,jsx_runtime.jsx)(FileMeta,{...selectedSize?orderedSizes[selectedSize]:originalImage})]}),(0,jsx_runtime.jsx)("img",{alt:doc.filename,className:"preview-sizes__preview",src:mainPreviewSrc})]}),(0,jsx_runtime.jsx)("div",{className:"preview-sizes__listWrap",children:(0,jsx_runtime.jsxs)("div",{className:"preview-sizes__list",children:[(0,jsx_runtime.jsx)(PreviewSizeCard,{active:!selectedSize,meta:originalImage,name:"Original",onClick:()=>setSelectedSize(null),previewSrc:generateImageUrl(doc)}),Object.entries(orderedSizes).map((([key,val])=>{const selected=selectedSize===key,previewSrc=generateImageUrl(val);return previewSrc?(0,jsx_runtime.jsx)(PreviewSizeCard,{active:selected,meta:val,name:key,onClick:()=>setSelectedSize(key),previewSrc},key):null}))]})})]})},PreviewSizes_stories={title:"@payloadcms/ui/elements/PreviewSizes",component:PreviewSizes,parameters:{docs:{description:{component:"PreviewSizes component from @payloadcms/ui/dist/elements/PreviewSizes"}}},argTypes:{name:{description:"name prop",table:{type:{summary:"any"}}},active:{description:"active prop",table:{type:{summary:"any"}}},meta:{description:"meta prop",table:{type:{summary:"any"}}},onClick:{description:"onClick prop",table:{type:{summary:"any"}}},previewSrc:{description:"previewSrc prop",table:{type:{summary:"any"}}},doc:{description:"doc prop",table:{type:{summary:"any"}}},imageCacheTag:{description:"imageCacheTag prop",table:{type:{summary:"any"}}},uploadConfig:{description:"uploadConfig prop",table:{type:{summary:"any"}}}},tags:["autodocs"]},Default=(args=>(0,jsx_runtime.jsx)(PreviewSizes,{...args})).bind({});Default.args={};const __namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"args => <PreviewSizes {...args} />",...Default.parameters?.docs?.source},description:{story:"Default state of the PreviewSizes component",...Default.parameters?.docs?.description}}}}}]);