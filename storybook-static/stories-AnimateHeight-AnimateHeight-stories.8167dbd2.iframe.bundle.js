"use strict";(self.webpackChunkcreate_payload_app=self.webpackChunkcreate_payload_app||[]).push([[1298],{"./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/AnimateHeight/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{D:()=>AnimateHeight});var jsx_runtime=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/index.js");const usePatchAnimateHeight=({containerRef,contentRef,duration,open})=>{const browserSupportsKeywordAnimation=(0,react.useMemo)((()=>!("undefined"==typeof CSS||!CSS||!CSS.supports)&&CSS.supports("interpolate-size","allow-keywords")),[]),hasInitialized=(0,react.useRef)(!1),previousOpenState=(0,react.useRef)(open),[isAnimating,setIsAnimating]=(0,react.useState)(!1),resizeObserverRef=(0,react.useRef)(null);return(0,react.useEffect)((()=>{const container=containerRef.current,content=contentRef.current;if(!container||!content||browserSupportsKeywordAnimation)return;const setContainerHeight=height=>{container.style.height=height};return(()=>{if(!hasInitialized.current&&open)return setContainerHeight("auto"),void setIsAnimating(!1);hasInitialized.current=!0,previousOpenState.current!==open&&setContainerHeight(open?"0px":`${content.scrollHeight}px`),container.offsetHeight,setIsAnimating(!0),container.style.transition=`height ${duration}ms ease`,setContainerHeight(open?`${content.scrollHeight}px`:"0px");const onTransitionEnd=()=>{container&&(container.style.transition="",container.style.height=open?"auto":"0px",setIsAnimating(!1)),container.removeEventListener("transitionend",onTransitionEnd)};container.addEventListener("transitionend",onTransitionEnd)})(),previousOpenState.current=open,resizeObserverRef.current=new ResizeObserver((()=>{isAnimating&&(container.style.height=open?`${content.scrollHeight}px`:"0px")})),resizeObserverRef.current.observe(content),()=>{container&&(container.style.transition="",container.style.height=""),resizeObserverRef.current?.disconnect()}}),[open,duration,containerRef,contentRef,browserSupportsKeywordAnimation]),{browserSupportsKeywordAnimation}},AnimateHeight=({id,children,className,duration=300,height})=>{const[open,setOpen]=react.useState((()=>Boolean(height))),prevIsOpen=(0,react.useRef)(open),[childrenDisplay,setChildrenDisplay]=react.useState((()=>open?"":"none")),[parentOverflow,setParentOverflow]=react.useState((()=>open?"":"hidden")),[isAnimating,setIsAnimating]=react.useState(!1),containerRef=(0,react.useRef)(null),contentRef=(0,react.useRef)(null);return(0,react.useEffect)((()=>{let displayTimer,overflowTimer;const newIsOpen=Boolean(height),hasChanged=prevIsOpen.current!==newIsOpen;return prevIsOpen.current=newIsOpen,hasChanged&&(setIsAnimating(!0),setParentOverflow("hidden"),newIsOpen?setChildrenDisplay(""):displayTimer=window.setTimeout((()=>{setChildrenDisplay("none")}),duration),setOpen(newIsOpen),overflowTimer=window.setTimeout((()=>{setParentOverflow(""),setIsAnimating(!1)}),duration)),()=>{displayTimer&&clearTimeout(displayTimer),overflowTimer&&clearTimeout(overflowTimer)}}),[height,duration]),usePatchAnimateHeight({containerRef,contentRef,duration,open}),(0,jsx_runtime.jsx)("div",{"aria-hidden":!open,className:[className,"rah-static",open&&"auto"===height&&"rah-static--height-auto",isAnimating&&"rah-animating--"+(open?"down":"up"),isAnimating&&"auto"===height&&"rah-animating--to-height-auto"].filter(Boolean).join(" "),id,ref:containerRef,style:{overflow:parentOverflow,transition:`height ${duration}ms ease`},children:(0,jsx_runtime.jsx)("div",{ref:contentRef,...childrenDisplay?{style:{display:childrenDisplay}}:{},children})})}},"./src/stories/AnimateHeight/AnimateHeight.stories.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/jsx-runtime.js"),_payloadcms_ui_elements_AnimateHeight__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/index.js"),__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/AnimateHeight/index.js"));const __WEBPACK_DEFAULT_EXPORT__={title:"@payloadcms/ui/elements/AnimateHeight",component:_payloadcms_ui_elements_AnimateHeight__WEBPACK_IMPORTED_MODULE_2__.D,parameters:{docs:{description:{component:"AnimateHeight component from @payloadcms/ui/dist/elements/AnimateHeight"}}},argTypes:{id:{description:"id prop",table:{type:{summary:"any"}}},children:{description:"children prop",control:"text"},duration:{description:"duration prop",control:"number",table:{type:{summary:"number"}}},height:{description:"height prop",table:{type:{summary:"any"}}}},tags:["autodocs"]},Default=(args=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_payloadcms_ui_elements_AnimateHeight__WEBPACK_IMPORTED_MODULE_2__.D,{...args})).bind({});Default.args={children:"Example Content"};const __namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"args => <AnimateHeight {...args} />",...Default.parameters?.docs?.source},description:{story:"Default state of the AnimateHeight component",...Default.parameters?.docs?.description}}}}}]);