"use strict";(self.webpackChunkcreate_payload_app=self.webpackChunkcreate_payload_app||[]).push([[8526],{"./.storybook/mockComponentWrappers.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{j:()=>withSafeLinks});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/jsx-runtime.js");__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/index.js");const withSafeLinks=Component=>props=>{const safeProps={...props,href:props.href||"#",to:props.to||"#"};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Component,{...safeProps})}},"./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/SaveDraftButton/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{V:()=>SaveDraftButton});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/index.js"),_forms_Form_context_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/forms/Form/context.js"),_forms_Submit_index_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/forms/Submit/index.js"),_hooks_useHotkey_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/hooks/useHotkey.js"),_providers_Config_index_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/Config/index.js"),_providers_DocumentInfo_index_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/DocumentInfo/index.js"),_providers_EditDepth_index_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/EditDepth/index.js"),_providers_Locale_index_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/Locale/index.js"),_providers_Operation_index_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/Operation/index.js"),_providers_Translation_index_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/Translation/index.js");const baseClass="save-draft";function SaveDraftButton(props){const{config:{routes:{api},serverURL}}=(0,_providers_Config_index_js__WEBPACK_IMPORTED_MODULE_2__.U)(),{id,collectionSlug,globalSlug,setUnpublishedVersionCount,uploadStatus}=(0,_providers_DocumentInfo_index_js__WEBPACK_IMPORTED_MODULE_3__.r)(),modified=(0,_forms_Form_context_js__WEBPACK_IMPORTED_MODULE_4__.Jm)(),{code:locale}=(0,_providers_Locale_index_js__WEBPACK_IMPORTED_MODULE_5__.Ym)(),ref=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null),editDepth=(0,_providers_EditDepth_index_js__WEBPACK_IMPORTED_MODULE_6__.lU)(),{t}=(0,_providers_Translation_index_js__WEBPACK_IMPORTED_MODULE_7__.B)(),{submit}=(0,_forms_Form_context_js__WEBPACK_IMPORTED_MODULE_4__.mN)(),disabled="update"===(0,_providers_Operation_index_js__WEBPACK_IMPORTED_MODULE_8__.j9)()&&!modified||"uploading"===uploadStatus,saveDraft=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((async()=>{if(disabled)return;const search=`?locale=${locale}&depth=0&fallback-locale=null&draft=true`;let action,method="POST";collectionSlug&&(action=`${serverURL}${api}/${collectionSlug}${id?`/${id}`:""}${search}`,id&&(method="PATCH")),globalSlug&&(action=`${serverURL}${api}/globals/${globalSlug}${search}`),await submit({action,method,overrides:{_status:"draft"},skipValidation:!0}),setUnpublishedVersionCount((count=>count+1))}),[submit,collectionSlug,globalSlug,serverURL,api,locale,id,disabled,setUnpublishedVersionCount]);return(0,_hooks_useHotkey_js__WEBPACK_IMPORTED_MODULE_9__.E)({cmdCtrlKey:!0,editDepth,keyCodes:["s"]},(e=>{e.preventDefault(),e.stopPropagation(),ref?.current&&ref.current.click()})),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_forms_Submit_index_js__WEBPACK_IMPORTED_MODULE_10__.h,{buttonId:"action-save-draft",buttonStyle:"secondary",className:baseClass,disabled,onClick:()=>{saveDraft()},ref,size:"medium",type:"button",children:t("version:saveDraft")})}},"./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/forms/Submit/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{h:()=>FormSubmit});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/jsx-runtime.js"),_elements_Button_index_js__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/index.js"),__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/Button/index.js")),_Form_context_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/forms/Form/context.js");const FormSubmit=props=>{const{type="submit",buttonId:id,children,disabled:disabledFromProps,onClick,programmaticSubmit,ref}=props,processing=(0,_Form_context_js__WEBPACK_IMPORTED_MODULE_2__.dS)(),backgroundProcessing=(0,_Form_context_js__WEBPACK_IMPORTED_MODULE_2__.H3)(),initializing=(0,_Form_context_js__WEBPACK_IMPORTED_MODULE_2__.$E)(),{disabled,submit}=(0,_Form_context_js__WEBPACK_IMPORTED_MODULE_2__.mN)(),canSave=!(disabledFromProps||initializing||processing||backgroundProcessing||disabled),handleClick=onClick??(programmaticSubmit?()=>{submit()}:void 0);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"form-submit",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_elements_Button_index_js__WEBPACK_IMPORTED_MODULE_3__.$,{ref,...props,disabled:!canSave||void 0,id,onClick:handleClick,type,children})})}},"./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/hooks/useHotkey.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{E:()=>useHotkey});var compiler_runtime=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/compiler-runtime.js"),useModal=__webpack_require__("./node_modules/.pnpm/@faceless-ui+modal@3.0.0-beta.2_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/@faceless-ui/modal/dist/useModal/index.js");var react=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/index.js");const pressedKeys=new Map([]),map={altleft:"alt",altright:"alt",controlleft:"ctrl",controlright:"ctrl",ctrlleft:"ctrl",ctrlright:"ctrl",escape:"esc",metaleft:"meta",metaright:"meta",osleft:"meta",osright:"meta",shiftleft:"shift",shiftright:"shift"},stripKey=key=>(map[key.toLowerCase()]||key).trim().toLowerCase().replace("key",""),useHotkey=(options,func)=>{const $=(0,compiler_runtime.c)(9),{cmdCtrlKey,editDepth,keyCodes}=options,{modalState}=(0,useModal.h)();let t0;$[0]!==cmdCtrlKey||$[1]!==editDepth||$[2]!==func||$[3]!==keyCodes||$[4]!==modalState?(t0=event=>{const e=event.detail?.key?event.detail:event;if(void 0===e.key)return;pressedKeys.forEach(_temp),e.code&&(code=>{const key=stripKey(code);"meta"===key&&pressedKeys.forEach(((time,pressedKey)=>"meta"!==pressedKey&&pressedKeys.delete(pressedKey))),pressedKeys.set(key,Date.now())})(e.code);const hasCmd=window.navigator.userAgent.includes("Mac OS X"),pressedWithoutModifier=[...pressedKeys.keys()].filter(_temp2);if(xs=new Set(pressedWithoutModifier),ys=new Set(keyCodes),xs.size===ys.size&&[...xs].every((x=>ys.has(x)))&&(!cmdCtrlKey||hasCmd&&pressedKeys.has("meta")||!hasCmd&&e.ctrlKey)){if((Object.keys(modalState).filter((key_1=>modalState[key_1]?.isOpen))?.length+1||1)!==editDepth)return;func(e)}var xs,ys},$[0]=cmdCtrlKey,$[1]=editDepth,$[2]=func,$[3]=keyCodes,$[4]=modalState,$[5]=t0):t0=$[5];const keydown=t0,keyup=_temp3;let t1,t2;$[6]!==keydown?(t1=()=>(document.addEventListener("keydown",keydown,!1),document.addEventListener("bypassKeyDown",keydown,!1),document.addEventListener("keyup",keyup,!1),()=>{document.removeEventListener("keydown",keydown),document.removeEventListener("bypassKeyDown",keydown),document.removeEventListener("keyup",keyup)}),t2=[keydown,keyup],$[6]=keydown,$[7]=t1,$[8]=t2):(t1=$[7],t2=$[8]),(0,react.useEffect)(t1,t2)};function _temp(time,key){Date.now()-time>3e3&&pressedKeys.delete(key)}function _temp2(key_0){return!["alt","ctrl","meta","shift"].includes(key_0)}function _temp3(e_0){e_0.code&&(code=>{const key=stripKey(code);"meta"===key&&pressedKeys.clear(),pressedKeys.delete(key)})(e_0.code)}},"./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/EditDepth/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{lL:()=>EditDepthProvider,lU:()=>useEditDepth});var react_compiler_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/compiler-runtime.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/index.js");const EditDepthContext=(0,react__WEBPACK_IMPORTED_MODULE_2__.createContext)(0),EditDepthProvider=t0=>{const $=(0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_0__.c)(3),{children}=t0,depth=useEditDepth()+1;let t1;return $[0]!==children||$[1]!==depth?(t1=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(EditDepthContext,{value:depth,children}),$[0]=children,$[1]=depth,$[2]=t1):t1=$[2],t1},useEditDepth=()=>(0,react__WEBPACK_IMPORTED_MODULE_2__.use)(EditDepthContext)},"./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/Operation/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{j9:()=>useOperation,nz:()=>OperationContext});__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/jsx-runtime.js");var react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/index.js");const OperationContext=(0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(""),useOperation=()=>(0,react__WEBPACK_IMPORTED_MODULE_1__.use)(OperationContext)},"./src/stories/SaveDraftButton/SaveDraftButton.stories.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/jsx-runtime.js"),_payloadcms_ui_elements_SaveDraftButton__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/index.js"),__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/SaveDraftButton/index.js"));const SafeSaveDraftButton=(0,__webpack_require__("./.storybook/mockComponentWrappers.js").j)(_payloadcms_ui_elements_SaveDraftButton__WEBPACK_IMPORTED_MODULE_3__.V),__WEBPACK_DEFAULT_EXPORT__={title:"@payloadcms/ui/elements/SaveDraftButton",component:_payloadcms_ui_elements_SaveDraftButton__WEBPACK_IMPORTED_MODULE_3__.V,parameters:{docs:{description:{component:"SaveDraftButton component from @payloadcms/ui/dist/elements/SaveDraftButton"}}},argTypes:{},tags:["autodocs"]},Default=(args=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SafeSaveDraftButton,{...args})).bind({});Default.args={href:"#",title:"SaveDraftButton Example"};const __namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"args => <SafeSaveDraftButton {...args} />",...Default.parameters?.docs?.source},description:{story:"Default state of the SaveDraftButton component",...Default.parameters?.docs?.description}}}}}]);