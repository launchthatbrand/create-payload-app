"use strict";(self.webpackChunkcreate_payload_app=self.webpackChunkcreate_payload_app||[]).push([[7646],{"./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/ConfirmationModal/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{R:()=>ConfirmationModal});var react_compiler_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/compiler-runtime.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/jsx-runtime.js"),_faceless_ui_modal__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/@faceless-ui+modal@3.0.0-beta.2_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/@faceless-ui/modal/dist/useModal/index.js"),_faceless_ui_modal__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/.pnpm/@faceless-ui+modal@3.0.0-beta.2_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/@faceless-ui/modal/dist/Modal/index.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/index.js"),_providers_Translation_index_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/Translation/index.js"),_Button_index_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/Button/index.js"),_Drawer_index_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/Drawer/index.js");const baseClass="confirmation-modal";function ConfirmationModal(props){const $=(0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_0__.c)(33),{body,cancelLabel,className,confirmingLabel,confirmLabel,heading,modalSlug,onCancel:onCancelFromProps,onConfirm:onConfirmFromProps}=props,editDepth=(0,_Drawer_index_js__WEBPACK_IMPORTED_MODULE_3__.cG)(),[confirming,setConfirming]=react__WEBPACK_IMPORTED_MODULE_2__.useState(!1),{closeModal}=(0,_faceless_ui_modal__WEBPACK_IMPORTED_MODULE_4__.h)(),{t}=(0,_providers_Translation_index_js__WEBPACK_IMPORTED_MODULE_5__.B)();let t0;$[0]!==closeModal||$[1]!==confirming||$[2]!==modalSlug||$[3]!==onConfirmFromProps?(t0=async()=>{confirming||(setConfirming(!0),"function"==typeof onConfirmFromProps&&await onConfirmFromProps(),setConfirming(!1),closeModal(modalSlug))},$[0]=closeModal,$[1]=confirming,$[2]=modalSlug,$[3]=onConfirmFromProps,$[4]=t0):t0=$[4];const onConfirm=t0;let t1;$[5]!==closeModal||$[6]!==confirming||$[7]!==modalSlug||$[8]!==onCancelFromProps?(t1=()=>{confirming||(closeModal(modalSlug),"function"==typeof onCancelFromProps&&onCancelFromProps())},$[5]=closeModal,$[6]=confirming,$[7]=modalSlug,$[8]=onCancelFromProps,$[9]=t1):t1=$[9];const onCancel=t1;let t2;$[10]!==className?(t2=[baseClass,className].filter(Boolean),$[10]=className,$[11]=t2):t2=$[11];const t3=t2.join(" "),t4=_Drawer_index_js__WEBPACK_IMPORTED_MODULE_3__.B1+editDepth;let t5;if($[12]!==body||$[13]!==cancelLabel||$[14]!==confirmLabel||$[15]!==confirming||$[16]!==confirmingLabel||$[17]!==heading||$[18]!==modalSlug||$[19]!==onCancel||$[20]!==onConfirm||$[21]!==t||$[22]!==t3||$[23]!==t4){let t6,t7;$[25]!==cancelLabel||$[26]!==t?(t6=cancelLabel||t("general:cancel"),$[25]=cancelLabel,$[26]=t,$[27]=t6):t6=$[27],$[28]!==confirmLabel||$[29]!==confirming||$[30]!==confirmingLabel||$[31]!==t?(t7=confirming?confirmingLabel||`${t("general:loading")}...`:confirmLabel||t("general:confirm"),$[28]=confirmLabel,$[29]=confirming,$[30]=confirmingLabel,$[31]=t,$[32]=t7):t7=$[32],t5=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_faceless_ui_modal__WEBPACK_IMPORTED_MODULE_6__.a,{className:t3,slug:modalSlug,style:{zIndex:t4},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("div",{className:`${baseClass}__wrapper`,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("div",{className:`${baseClass}__content`,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("h1",{children:heading}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("p",{children:body})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("div",{className:`${baseClass}__controls`,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_Button_index_js__WEBPACK_IMPORTED_MODULE_7__.$,{buttonStyle:"secondary",disabled:confirming,id:"confirm-cancel",onClick:onCancel,size:"large",type:"button",children:t6}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_Button_index_js__WEBPACK_IMPORTED_MODULE_7__.$,{id:"confirm-action",onClick:onConfirm,size:"large",children:t7})]})]})}),$[12]=body,$[13]=cancelLabel,$[14]=confirmLabel,$[15]=confirming,$[16]=confirmingLabel,$[17]=heading,$[18]=modalSlug,$[19]=onCancel,$[20]=onConfirm,$[21]=t,$[22]=t3,$[23]=t4,$[24]=t5}else t5=$[24];return t5}},"./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/DeleteMany/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{d:()=>DeleteMany});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/jsx-runtime.js"),_faceless_ui_modal__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/.pnpm/@faceless-ui+modal@3.0.0-beta.2_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/@faceless-ui/modal/dist/useModal/index.js"),_payloadcms_translations__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@payloadcms+translations@3.31.0/node_modules/@payloadcms/translations/dist/exports/index.js"),next_navigation_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/navigation.js"),payload_shared__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/.pnpm/payload@3.31.0_graphql@16.10.0_typescript@5.7.3/node_modules/payload/dist/utilities/mergeListSearchAndWhere.js"),qs_esm__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/.pnpm/qs-esm@7.0.2/node_modules/qs-esm/lib/stringify.js"),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/index.js"),sonner__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/sonner@1.7.4_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/sonner/dist/index.mjs"),_providers_Auth_index_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/Auth/index.js"),_providers_Config_index_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/Config/index.js"),_providers_RouteCache_index_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/RouteCache/index.js"),_providers_Selection_index_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/Selection/index.js"),_providers_Translation_index_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/Translation/index.js"),_utilities_api_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/utilities/api.js"),_ConfirmationModal_index_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/ConfirmationModal/index.js");const DeleteMany=props=>{const{collection,collection:{slug,labels:{plural,singular}}={}}=props,{permissions}=(0,_providers_Auth_index_js__WEBPACK_IMPORTED_MODULE_5__.A)(),{config:{routes:{api},serverURL}}=(0,_providers_Config_index_js__WEBPACK_IMPORTED_MODULE_6__.U)(),{openModal}=(0,_faceless_ui_modal__WEBPACK_IMPORTED_MODULE_7__.h)(),{count,getQueryParams,selectAll,toggleAll}=(0,_providers_Selection_index_js__WEBPACK_IMPORTED_MODULE_8__.Cd)(),{i18n,t}=(0,_providers_Translation_index_js__WEBPACK_IMPORTED_MODULE_9__.B)(),router=(0,next_navigation_js__WEBPACK_IMPORTED_MODULE_2__.useRouter)(),searchParams=(0,next_navigation_js__WEBPACK_IMPORTED_MODULE_2__.useSearchParams)(),{clearRouteCache}=(0,_providers_RouteCache_index_js__WEBPACK_IMPORTED_MODULE_10__.P)(),collectionPermissions=permissions?.collections?.[slug],hasDeletePermission=collectionPermissions?.delete,modalSlug=`delete-${slug}`,addDefaultError=(0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((()=>{sonner__WEBPACK_IMPORTED_MODULE_4__.oR.error(t("error:unknown"))}),[t]),handleDelete=(0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((async()=>{const queryWithSearch=(0,payload_shared__WEBPACK_IMPORTED_MODULE_11__.d)({collectionConfig:collection,search:searchParams.get("search")}),queryString=getQueryParams(queryWithSearch);await _utilities_api_js__WEBPACK_IMPORTED_MODULE_12__.z.delete(`${serverURL}${api}/${slug}${queryString}`,{headers:{"Accept-Language":i18n.language,"Content-Type":"application/json"}}).then((async res=>{try{const json=await res.json(),deletedDocs=json?.docs.length||0,successLabel=deletedDocs>1?plural:singular;return res.status<400||deletedDocs>0?(sonner__WEBPACK_IMPORTED_MODULE_4__.oR.success(t("general:deletedCountSuccessfully",{count:deletedDocs,label:(0,_payloadcms_translations__WEBPACK_IMPORTED_MODULE_1__.sC)(successLabel,i18n)})),json?.errors.length>0&&sonner__WEBPACK_IMPORTED_MODULE_4__.oR.error(json.message,{description:json.errors.map((error=>error.message)).join("\n")}),toggleAll(),router.replace(qs_esm__WEBPACK_IMPORTED_MODULE_13__.A({page:selectAll?"1":void 0},{addQueryPrefix:!0})),clearRouteCache(),null):json.errors?(sonner__WEBPACK_IMPORTED_MODULE_4__.oR.error(json.message,{description:json.errors.map((error_0=>error_0.message)).join("\n")}),!1):addDefaultError()}catch(_err){return addDefaultError()}}))}),[searchParams,addDefaultError,api,getQueryParams,i18n,plural,router,selectAll,serverURL,singular,slug,t,toggleAll,clearRouteCache,collection]);return selectAll!==_providers_Selection_index_js__WEBPACK_IMPORTED_MODULE_8__.uf.None&&hasDeletePermission?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react__WEBPACK_IMPORTED_MODULE_3__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{className:"delete-documents__toggle",onClick:()=>{openModal(modalSlug)},type:"button",children:t("general:delete")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_ConfirmationModal_index_js__WEBPACK_IMPORTED_MODULE_14__.R,{body:t("general:aboutToDeleteCount",{count,label:(0,_payloadcms_translations__WEBPACK_IMPORTED_MODULE_1__.sC)(count>1?plural:singular,i18n)}),confirmingLabel:t("general:deleting"),heading:t("general:confirmDeletion"),modalSlug,onConfirm:handleDelete})]}):null}},"./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/PublishMany/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{t:()=>PublishMany});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/jsx-runtime.js"),_faceless_ui_modal__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/.pnpm/@faceless-ui+modal@3.0.0-beta.2_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/@faceless-ui/modal/dist/useModal/index.js"),_payloadcms_translations__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@payloadcms+translations@3.31.0/node_modules/@payloadcms/translations/dist/exports/index.js"),next_navigation_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/navigation.js"),qs_esm__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/.pnpm/qs-esm@7.0.2/node_modules/qs-esm/lib/stringify.js"),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/index.js"),sonner__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/sonner@1.7.4_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/sonner/dist/index.mjs"),_providers_Auth_index_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/Auth/index.js"),_providers_Config_index_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/Config/index.js"),_providers_RouteCache_index_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/RouteCache/index.js"),_providers_Selection_index_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/Selection/index.js"),_providers_Translation_index_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/Translation/index.js"),_utilities_api_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/utilities/api.js"),_utilities_parseSearchParams_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/utilities/parseSearchParams.js"),_ConfirmationModal_index_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/ConfirmationModal/index.js");const PublishMany=props=>{const{clearRouteCache}=(0,_providers_RouteCache_index_js__WEBPACK_IMPORTED_MODULE_5__.P)(),{collection:{slug,labels:{plural,singular},versions}={}}=props,{config:{routes:{api},serverURL}}=(0,_providers_Config_index_js__WEBPACK_IMPORTED_MODULE_6__.U)(),{permissions}=(0,_providers_Auth_index_js__WEBPACK_IMPORTED_MODULE_7__.A)(),{i18n,t}=(0,_providers_Translation_index_js__WEBPACK_IMPORTED_MODULE_8__.B)(),{getQueryParams,selectAll}=(0,_providers_Selection_index_js__WEBPACK_IMPORTED_MODULE_9__.Cd)(),router=(0,next_navigation_js__WEBPACK_IMPORTED_MODULE_2__.useRouter)(),searchParams=(0,next_navigation_js__WEBPACK_IMPORTED_MODULE_2__.useSearchParams)(),{openModal}=(0,_faceless_ui_modal__WEBPACK_IMPORTED_MODULE_10__.h)(),collectionPermissions=permissions?.collections?.[slug],hasPermission=collectionPermissions?.update,modalSlug=`publish-${slug}`,addDefaultError=(0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((()=>{sonner__WEBPACK_IMPORTED_MODULE_4__.oR.error(t("error:unknown"))}),[t]),handlePublish=(0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((async()=>{await _utilities_api_js__WEBPACK_IMPORTED_MODULE_11__.z.patch(`${serverURL}${api}/${slug}${getQueryParams({_status:{not_equals:"published"}})}&draft=true`,{body:JSON.stringify({_status:"published"}),headers:{"Accept-Language":i18n.language,"Content-Type":"application/json"}}).then((async res=>{try{const json=await res.json(),deletedDocs=json?.docs.length||0,successLabel=deletedDocs>1?plural:singular;return res.status<400||deletedDocs>0?(sonner__WEBPACK_IMPORTED_MODULE_4__.oR.success(t("general:updatedCountSuccessfully",{count:deletedDocs,label:(0,_payloadcms_translations__WEBPACK_IMPORTED_MODULE_1__.sC)(successLabel,i18n)})),json?.errors.length>0&&sonner__WEBPACK_IMPORTED_MODULE_4__.oR.error(json.message,{description:json.errors.map((error=>error.message)).join("\n")}),router.replace(qs_esm__WEBPACK_IMPORTED_MODULE_12__.A({...(0,_utilities_parseSearchParams_js__WEBPACK_IMPORTED_MODULE_13__._)(searchParams),page:selectAll?"1":void 0},{addQueryPrefix:!0})),clearRouteCache(),null):(json.errors?json.errors.forEach((error_0=>sonner__WEBPACK_IMPORTED_MODULE_4__.oR.error(error_0.message))):addDefaultError(),!1)}catch(_err){return addDefaultError()}}))}),[serverURL,api,slug,getQueryParams,i18n,plural,singular,t,router,searchParams,selectAll,clearRouteCache,addDefaultError]);return versions?.drafts&&selectAll!==_providers_Selection_index_js__WEBPACK_IMPORTED_MODULE_9__.uf.None&&hasPermission?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react__WEBPACK_IMPORTED_MODULE_3__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{className:"publish-many__toggle",onClick:()=>{openModal(modalSlug)},type:"button",children:t("version:publish")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_ConfirmationModal_index_js__WEBPACK_IMPORTED_MODULE_14__.R,{body:t("version:aboutToPublishSelection",{label:(0,_payloadcms_translations__WEBPACK_IMPORTED_MODULE_1__.sC)(plural,i18n)}),cancelLabel:t("general:cancel"),confirmingLabel:t("version:publishing"),confirmLabel:t("general:confirm"),heading:t("version:confirmPublish"),modalSlug,onConfirm:handlePublish})]}):null}},"./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/UnpublishMany/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{O:()=>UnpublishMany});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/jsx-runtime.js"),_faceless_ui_modal__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/.pnpm/@faceless-ui+modal@3.0.0-beta.2_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/@faceless-ui/modal/dist/useModal/index.js"),_payloadcms_translations__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@payloadcms+translations@3.31.0/node_modules/@payloadcms/translations/dist/exports/index.js"),next_navigation_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/navigation.js"),qs_esm__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/.pnpm/qs-esm@7.0.2/node_modules/qs-esm/lib/stringify.js"),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/index.js"),sonner__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/sonner@1.7.4_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/sonner/dist/index.mjs"),_providers_Auth_index_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/Auth/index.js"),_providers_Config_index_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/Config/index.js"),_providers_RouteCache_index_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/RouteCache/index.js"),_providers_Selection_index_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/Selection/index.js"),_providers_Translation_index_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/Translation/index.js"),_utilities_api_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/utilities/api.js"),_utilities_parseSearchParams_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/utilities/parseSearchParams.js"),_ConfirmationModal_index_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/ConfirmationModal/index.js");const UnpublishMany=props=>{const{collection:{slug,labels:{plural,singular},versions}={}}=props,{config:{routes:{api},serverURL}}=(0,_providers_Config_index_js__WEBPACK_IMPORTED_MODULE_5__.U)(),{permissions}=(0,_providers_Auth_index_js__WEBPACK_IMPORTED_MODULE_6__.A)(),{toggleModal}=(0,_faceless_ui_modal__WEBPACK_IMPORTED_MODULE_7__.h)(),{i18n,t}=(0,_providers_Translation_index_js__WEBPACK_IMPORTED_MODULE_8__.B)(),searchParams=(0,next_navigation_js__WEBPACK_IMPORTED_MODULE_2__.useSearchParams)(),{getQueryParams,selectAll}=(0,_providers_Selection_index_js__WEBPACK_IMPORTED_MODULE_9__.Cd)(),router=(0,next_navigation_js__WEBPACK_IMPORTED_MODULE_2__.useRouter)(),{clearRouteCache}=(0,_providers_RouteCache_index_js__WEBPACK_IMPORTED_MODULE_10__.P)(),collectionPermissions=permissions?.collections?.[slug],hasPermission=collectionPermissions?.update,modalSlug=`unpublish-${slug}`,addDefaultError=(0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((()=>{sonner__WEBPACK_IMPORTED_MODULE_4__.oR.error(t("error:unknown"))}),[t]),handleUnpublish=(0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((async()=>{await _utilities_api_js__WEBPACK_IMPORTED_MODULE_11__.z.patch(`${serverURL}${api}/${slug}${getQueryParams({_status:{not_equals:"draft"}})}`,{body:JSON.stringify({_status:"draft"}),headers:{"Accept-Language":i18n.language,"Content-Type":"application/json"}}).then((async res=>{try{const json=await res.json(),deletedDocs=json?.docs.length||0,successLabel=deletedDocs>1?plural:singular;return res.status<400||deletedDocs>0?(sonner__WEBPACK_IMPORTED_MODULE_4__.oR.success(t("general:updatedCountSuccessfully",{count:deletedDocs,label:(0,_payloadcms_translations__WEBPACK_IMPORTED_MODULE_1__.sC)(successLabel,i18n)})),json?.errors.length>0&&sonner__WEBPACK_IMPORTED_MODULE_4__.oR.error(json.message,{description:json.errors.map((error=>error.message)).join("\n")}),router.replace(qs_esm__WEBPACK_IMPORTED_MODULE_12__.A({...(0,_utilities_parseSearchParams_js__WEBPACK_IMPORTED_MODULE_13__._)(searchParams),page:selectAll?"1":void 0},{addQueryPrefix:!0})),clearRouteCache(),null):(json.errors?json.errors.forEach((error_0=>sonner__WEBPACK_IMPORTED_MODULE_4__.oR.error(error_0.message))):addDefaultError(),!1)}catch(_err){return addDefaultError()}}))}),[serverURL,api,slug,getQueryParams,i18n,plural,singular,t,router,searchParams,selectAll,clearRouteCache,addDefaultError]);return versions?.drafts&&selectAll!==_providers_Selection_index_js__WEBPACK_IMPORTED_MODULE_9__.uf.None&&hasPermission?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react__WEBPACK_IMPORTED_MODULE_3__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{className:"unpublish-many__toggle",onClick:()=>{toggleModal(modalSlug)},type:"button",children:t("version:unpublish")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_ConfirmationModal_index_js__WEBPACK_IMPORTED_MODULE_14__.R,{body:t("version:aboutToUnpublishSelection",{label:(0,_payloadcms_translations__WEBPACK_IMPORTED_MODULE_1__.sC)(plural,i18n)}),confirmingLabel:t("version:unpublishing"),heading:t("version:confirmUnpublish"),modalSlug,onConfirm:handleUnpublish})]}):null}},"./src/stories/ListSelection/ListSelection.stories.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>ListSelection_stories});var jsx_runtime=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/index.js"),compiler_runtime=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/compiler-runtime.js"),Selection=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/Selection/index.js"),Translation=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/Translation/index.js"),DeleteMany=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/DeleteMany/index.js"),EditMany=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/EditMany/index.js"),PublishMany=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/PublishMany/index.js"),UnpublishMany=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/UnpublishMany/index.js");const ListSelection=t0=>{const $=(0,compiler_runtime.c)(10),{collectionConfig,disableBulkDelete,disableBulkEdit,label}=t0,{count,selectAll,toggleAll,totalDocs}=(0,Selection.Cd)(),{t}=(0,Translation.B)();if(0===count)return null;let t1;return $[0]!==collectionConfig||$[1]!==count||$[2]!==disableBulkDelete||$[3]!==disableBulkEdit||$[4]!==label||$[5]!==selectAll||$[6]!==t||$[7]!==toggleAll||$[8]!==totalDocs?(t1=(0,jsx_runtime.jsxs)("div",{className:"list-selection",children:[(0,jsx_runtime.jsx)("span",{children:t("general:selectedCount",{count,label:""})}),selectAll!==Selection.uf.AllAvailable&&count<totalDocs&&(0,jsx_runtime.jsx)("button",{"aria-label":t("general:selectAll",{count,label}),className:"list-selection__button",id:"select-all-across-pages",onClick:()=>toggleAll(!0),type:"button",children:t("general:selectAll",{count:totalDocs,label:""})}),!disableBulkEdit&&!disableBulkDelete&&(0,jsx_runtime.jsx)("span",{children:"â€”"}),!disableBulkEdit&&(0,jsx_runtime.jsxs)(react.Fragment,{children:[(0,jsx_runtime.jsx)(EditMany.e,{collection:collectionConfig}),(0,jsx_runtime.jsx)(PublishMany.t,{collection:collectionConfig}),(0,jsx_runtime.jsx)(UnpublishMany.O,{collection:collectionConfig})]}),!disableBulkDelete&&(0,jsx_runtime.jsx)(DeleteMany.d,{collection:collectionConfig})]}),$[0]=collectionConfig,$[1]=count,$[2]=disableBulkDelete,$[3]=disableBulkEdit,$[4]=label,$[5]=selectAll,$[6]=t,$[7]=toggleAll,$[8]=totalDocs,$[9]=t1):t1=$[9],t1},ListSelection_stories={title:"@payloadcms/ui/elements/ListSelection",component:ListSelection,parameters:{docs:{description:{component:"ListSelection component from @payloadcms/ui/dist/elements/ListSelection"}}},argTypes:{},tags:["autodocs"]},Default=(args=>(0,jsx_runtime.jsx)(ListSelection,{...args})).bind({});Default.args={};const __namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"args => <ListSelection {...args} />",...Default.parameters?.docs?.source},description:{story:"Default state of the ListSelection component",...Default.parameters?.docs?.description}}}}}]);