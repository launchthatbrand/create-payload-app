"use strict";(self.webpackChunkcreate_payload_app=self.webpackChunkcreate_payload_app||[]).push([[1024],{"./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/ConfirmationModal/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{R:()=>ConfirmationModal});var react_compiler_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/compiler-runtime.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/jsx-runtime.js"),_faceless_ui_modal__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/@faceless-ui+modal@3.0.0-beta.2_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/@faceless-ui/modal/dist/useModal/index.js"),_faceless_ui_modal__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/.pnpm/@faceless-ui+modal@3.0.0-beta.2_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/@faceless-ui/modal/dist/Modal/index.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/index.js"),_providers_Translation_index_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/Translation/index.js"),_Button_index_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/Button/index.js"),_Drawer_index_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/Drawer/index.js");const baseClass="confirmation-modal";function ConfirmationModal(props){const $=(0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_0__.c)(33),{body,cancelLabel,className,confirmingLabel,confirmLabel,heading,modalSlug,onCancel:onCancelFromProps,onConfirm:onConfirmFromProps}=props,editDepth=(0,_Drawer_index_js__WEBPACK_IMPORTED_MODULE_3__.cG)(),[confirming,setConfirming]=react__WEBPACK_IMPORTED_MODULE_2__.useState(!1),{closeModal}=(0,_faceless_ui_modal__WEBPACK_IMPORTED_MODULE_4__.h)(),{t}=(0,_providers_Translation_index_js__WEBPACK_IMPORTED_MODULE_5__.B)();let t0;$[0]!==closeModal||$[1]!==confirming||$[2]!==modalSlug||$[3]!==onConfirmFromProps?(t0=async()=>{confirming||(setConfirming(!0),"function"==typeof onConfirmFromProps&&await onConfirmFromProps(),setConfirming(!1),closeModal(modalSlug))},$[0]=closeModal,$[1]=confirming,$[2]=modalSlug,$[3]=onConfirmFromProps,$[4]=t0):t0=$[4];const onConfirm=t0;let t1;$[5]!==closeModal||$[6]!==confirming||$[7]!==modalSlug||$[8]!==onCancelFromProps?(t1=()=>{confirming||(closeModal(modalSlug),"function"==typeof onCancelFromProps&&onCancelFromProps())},$[5]=closeModal,$[6]=confirming,$[7]=modalSlug,$[8]=onCancelFromProps,$[9]=t1):t1=$[9];const onCancel=t1;let t2;$[10]!==className?(t2=[baseClass,className].filter(Boolean),$[10]=className,$[11]=t2):t2=$[11];const t3=t2.join(" "),t4=_Drawer_index_js__WEBPACK_IMPORTED_MODULE_3__.B1+editDepth;let t5;if($[12]!==body||$[13]!==cancelLabel||$[14]!==confirmLabel||$[15]!==confirming||$[16]!==confirmingLabel||$[17]!==heading||$[18]!==modalSlug||$[19]!==onCancel||$[20]!==onConfirm||$[21]!==t||$[22]!==t3||$[23]!==t4){let t6,t7;$[25]!==cancelLabel||$[26]!==t?(t6=cancelLabel||t("general:cancel"),$[25]=cancelLabel,$[26]=t,$[27]=t6):t6=$[27],$[28]!==confirmLabel||$[29]!==confirming||$[30]!==confirmingLabel||$[31]!==t?(t7=confirming?confirmingLabel||`${t("general:loading")}...`:confirmLabel||t("general:confirm"),$[28]=confirmLabel,$[29]=confirming,$[30]=confirmingLabel,$[31]=t,$[32]=t7):t7=$[32],t5=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_faceless_ui_modal__WEBPACK_IMPORTED_MODULE_6__.a,{className:t3,slug:modalSlug,style:{zIndex:t4},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("div",{className:`${baseClass}__wrapper`,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("div",{className:`${baseClass}__content`,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("h1",{children:heading}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("p",{children:body})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("div",{className:`${baseClass}__controls`,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_Button_index_js__WEBPACK_IMPORTED_MODULE_7__.$,{buttonStyle:"secondary",disabled:confirming,id:"confirm-cancel",onClick:onCancel,size:"large",type:"button",children:t6}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_Button_index_js__WEBPACK_IMPORTED_MODULE_7__.$,{id:"confirm-action",onClick:onConfirm,size:"large",children:t7})]})]})}),$[12]=body,$[13]=cancelLabel,$[14]=confirmLabel,$[15]=confirming,$[16]=confirmingLabel,$[17]=heading,$[18]=modalSlug,$[19]=onCancel,$[20]=onConfirm,$[21]=t,$[22]=t3,$[23]=t4,$[24]=t5}else t5=$[24];return t5}},"./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/Status/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{n:()=>Status});var react_compiler_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/compiler-runtime.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/jsx-runtime.js"),_faceless_ui_modal__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/.pnpm/@faceless-ui+modal@3.0.0-beta.2_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/@faceless-ui/modal/dist/useModal/index.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/index.js"),sonner__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/sonner@1.7.4_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/sonner/dist/index.mjs"),_forms_Form_context_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/forms/Form/context.js"),_providers_Config_index_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/Config/index.js"),_providers_DocumentInfo_index_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/DocumentInfo/index.js"),_providers_Locale_index_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/Locale/index.js"),_providers_Translation_index_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/Translation/index.js"),_utilities_api_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/utilities/api.js"),_Button_index_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/Button/index.js"),_ConfirmationModal_index_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/ConfirmationModal/index.js");const Status=()=>{const $=(0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_0__.c)(37),{id,collectionSlug,docPermissions,globalSlug,hasPublishedDoc,incrementVersionCount,setHasPublishedDoc,setMostRecentVersionIsAutosaved,setUnpublishedVersionCount,unpublishedVersionCount}=(0,_providers_DocumentInfo_index_js__WEBPACK_IMPORTED_MODULE_4__.r)(),{toggleModal}=(0,_faceless_ui_modal__WEBPACK_IMPORTED_MODULE_5__.h)(),{config:t0}=(0,_providers_Config_index_js__WEBPACK_IMPORTED_MODULE_6__.U)(),{routes:t1,serverURL}=t0,{api}=t1,{reset:resetForm}=(0,_forms_Form_context_js__WEBPACK_IMPORTED_MODULE_7__.mN)(),{code:locale}=(0,_providers_Locale_index_js__WEBPACK_IMPORTED_MODULE_8__.Ym)(),{i18n,t}=(0,_providers_Translation_index_js__WEBPACK_IMPORTED_MODULE_9__.B)(),unPublishModalSlug=`confirm-un-publish-${id}`,revertModalSlug=`confirm-revert-${id}`;let statusToRender,t2;unpublishedVersionCount>0&&hasPublishedDoc?statusToRender="changed":hasPublishedDoc?hasPublishedDoc&&unpublishedVersionCount<=0&&(statusToRender="published"):statusToRender="draft",$[0]!==api||$[1]!==collectionSlug||$[2]!==globalSlug||$[3]!==i18n.language||$[4]!==id||$[5]!==incrementVersionCount||$[6]!==locale||$[7]!==resetForm||$[8]!==serverURL||$[9]!==setHasPublishedDoc||$[10]!==setMostRecentVersionIsAutosaved||$[11]!==setUnpublishedVersionCount||$[12]!==t?(t2=async action=>{let url,method,body;if("unpublish"===action&&(body={_status:"draft"}),collectionSlug&&(url=`${serverURL}${api}/${collectionSlug}/${id}?locale=${locale}&fallback-locale=null&depth=0`,method="patch"),globalSlug&&(url=`${serverURL}${api}/globals/${globalSlug}?locale=${locale}&fallback-locale=null&depth=0`,method="post"),"revert"===action){body=await _utilities_api_js__WEBPACK_IMPORTED_MODULE_10__.z.get(url,{headers:{"Accept-Language":i18n.language,"Content-Type":"application/json"}}).then(_temp)}const res_0=await _utilities_api_js__WEBPACK_IMPORTED_MODULE_10__.z[method](url,{body:JSON.stringify(body),headers:{"Accept-Language":i18n.language,"Content-Type":"application/json"}});if(200===res_0.status){let data;const json=await res_0.json();globalSlug?data=json.result:collectionSlug&&(data=json.doc),resetForm(data),sonner__WEBPACK_IMPORTED_MODULE_3__.oR.success(json.message),incrementVersionCount(),setMostRecentVersionIsAutosaved(!1),"unpublish"===action?setHasPublishedDoc(!1):"revert"===action&&setUnpublishedVersionCount(0)}else sonner__WEBPACK_IMPORTED_MODULE_3__.oR.error(t("error:unPublishingDocument"))},$[0]=api,$[1]=collectionSlug,$[2]=globalSlug,$[3]=i18n.language,$[4]=id,$[5]=incrementVersionCount,$[6]=locale,$[7]=resetForm,$[8]=serverURL,$[9]=setHasPublishedDoc,$[10]=setMostRecentVersionIsAutosaved,$[11]=setUnpublishedVersionCount,$[12]=t,$[13]=t2):t2=$[13];const performAction=t2,canUpdate=docPermissions?.update;if(statusToRender){const t3=`${t("version:status")}: ${t(`version:${statusToRender}`)}`;let t4;if($[14]!==canUpdate||$[15]!==performAction||$[16]!==revertModalSlug||$[17]!==statusToRender||$[18]!==t||$[19]!==t3||$[20]!==toggleModal||$[21]!==unPublishModalSlug){let t5,t6;$[23]!==canUpdate||$[24]!==performAction||$[25]!==statusToRender||$[26]!==t||$[27]!==toggleModal||$[28]!==unPublishModalSlug?(t5=canUpdate&&"published"===statusToRender&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react__WEBPACK_IMPORTED_MODULE_2__.Fragment,{children:[" — ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_Button_index_js__WEBPACK_IMPORTED_MODULE_11__.$,{buttonStyle:"none",className:"status__action",onClick:()=>toggleModal(unPublishModalSlug),children:t("version:unpublish")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_ConfirmationModal_index_js__WEBPACK_IMPORTED_MODULE_12__.R,{body:t("version:aboutToUnpublish"),confirmingLabel:t("version:unpublishing"),heading:t("version:confirmUnpublish"),modalSlug:unPublishModalSlug,onConfirm:()=>performAction("unpublish")})]}),$[23]=canUpdate,$[24]=performAction,$[25]=statusToRender,$[26]=t,$[27]=toggleModal,$[28]=unPublishModalSlug,$[29]=t5):t5=$[29],$[30]!==canUpdate||$[31]!==performAction||$[32]!==revertModalSlug||$[33]!==statusToRender||$[34]!==t||$[35]!==toggleModal?(t6=canUpdate&&"changed"===statusToRender&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react__WEBPACK_IMPORTED_MODULE_2__.Fragment,{children:[" — ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_Button_index_js__WEBPACK_IMPORTED_MODULE_11__.$,{buttonStyle:"none",className:"status__action",id:"action-revert-to-published",onClick:()=>toggleModal(revertModalSlug),children:t("version:revertToPublished")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_ConfirmationModal_index_js__WEBPACK_IMPORTED_MODULE_12__.R,{body:t("version:aboutToRevertToPublished"),confirmingLabel:t("version:reverting"),heading:t("version:confirmRevertToSaved"),modalSlug:revertModalSlug,onConfirm:()=>performAction("revert")})]}),$[30]=canUpdate,$[31]=performAction,$[32]=revertModalSlug,$[33]=statusToRender,$[34]=t,$[35]=toggleModal,$[36]=t6):t6=$[36],t4=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{className:"status",title:t3,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("div",{className:"status__value-wrap",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("span",{className:"status__label",children:[t("version:status"),": "]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("span",{className:"status__value",children:t(`version:${statusToRender}`)}),t5,t6]})}),$[14]=canUpdate,$[15]=performAction,$[16]=revertModalSlug,$[17]=statusToRender,$[18]=t,$[19]=t3,$[20]=toggleModal,$[21]=unPublishModalSlug,$[22]=t4}else t4=$[22];return t4}return null};function _temp(res){return res.json()}},"./src/stories/Status/Status.stories.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/jsx-runtime.js"),_payloadcms_ui_elements_Status__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/index.js"),__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/Status/index.js"));const __WEBPACK_DEFAULT_EXPORT__={title:"@payloadcms/ui/elements/Status",component:_payloadcms_ui_elements_Status__WEBPACK_IMPORTED_MODULE_2__.n,parameters:{docs:{description:{component:"Status component from @payloadcms/ui/dist/elements/Status"}}},argTypes:{},tags:["autodocs"]},Default=(args=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_payloadcms_ui_elements_Status__WEBPACK_IMPORTED_MODULE_2__.n,{...args})).bind({});Default.args={};const __namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"args => <Status {...args} />",...Default.parameters?.docs?.source},description:{story:"Default state of the Status component",...Default.parameters?.docs?.description}}}}}]);