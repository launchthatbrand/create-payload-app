"use strict";(self.webpackChunkcreate_payload_app=self.webpackChunkcreate_payload_app||[]).push([[4785],{"./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/utilities/isClientUserObject.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{O:()=>isClientUserObject});const isClientUserObject=user=>user&&"object"==typeof user},"./src/stories/DocumentLocked/DocumentLocked.stories.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>DocumentLocked_stories});var jsx_runtime=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/index.js"),compiler_runtime=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/compiler-runtime.js"),RouteTransition=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/RouteTransition/index.js"),Translation=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/Translation/index.js"),isClientUserObject=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/utilities/isClientUserObject.js"),Button=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/Button/index.js"),useModal=__webpack_require__("./node_modules/.pnpm/@faceless-ui+modal@3.0.0-beta.2_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/@faceless-ui/modal/dist/useModal/index.js"),Modal=__webpack_require__("./node_modules/.pnpm/@faceless-ui+modal@3.0.0-beta.2_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/@faceless-ui/modal/dist/Modal/index.js");const modalSlug="document-locked",baseClass="document-locked",DocumentLocked=t0=>{const $=(0,compiler_runtime.c)(30),{handleGoBack,isActive,onReadOnly,onTakeOver,updatedAt,user}=t0,{closeModal,openModal}=(0,useModal.h)(),{t}=(0,Translation.B)(),{startRouteTransition}=(0,RouteTransition.y)();let t1,t2,t3,t4;if($[0]!==closeModal||$[1]!==isActive||$[2]!==openModal?(t1=()=>{isActive?openModal(modalSlug):closeModal(modalSlug)},t2=[isActive,openModal,closeModal],$[0]=closeModal,$[1]=isActive,$[2]=openModal,$[3]=t1,$[4]=t2):(t1=$[3],t2=$[4]),(0,react.useEffect)(t1,t2),$[5]!==handleGoBack||$[6]!==startRouteTransition?(t3=()=>{startRouteTransition((()=>handleGoBack()))},$[5]=handleGoBack,$[6]=startRouteTransition,$[7]=t3):t3=$[7],$[8]!==closeModal||$[9]!==handleGoBack||$[10]!==onReadOnly||$[11]!==onTakeOver||$[12]!==startRouteTransition||$[13]!==t||$[14]!==t3||$[15]!==updatedAt||$[16]!==user){let t5,t6,t7,t8;$[18]!==t||$[19]!==user?(t5=(0,isClientUserObject.O)(user)?user.email??user.id:`${t("general:user")}: ${user}`,$[18]=t,$[19]=user,$[20]=t5):t5=$[20],$[21]!==handleGoBack||$[22]!==startRouteTransition?(t6=()=>{startRouteTransition((()=>handleGoBack()))},$[21]=handleGoBack,$[22]=startRouteTransition,$[23]=t6):t6=$[23],$[24]!==closeModal||$[25]!==onReadOnly?(t7=()=>{onReadOnly(),closeModal(modalSlug)},$[24]=closeModal,$[25]=onReadOnly,$[26]=t7):t7=$[26],$[27]!==closeModal||$[28]!==onTakeOver?(t8=()=>{onTakeOver(),closeModal(modalSlug)},$[27]=closeModal,$[28]=onTakeOver,$[29]=t8):t8=$[29],t4=(0,jsx_runtime.jsx)(Modal.a,{className:baseClass,onClose:t3,slug:modalSlug,children:(0,jsx_runtime.jsxs)("div",{className:`${baseClass}__wrapper`,children:[(0,jsx_runtime.jsxs)("div",{className:`${baseClass}__content`,children:[(0,jsx_runtime.jsx)("h1",{children:t("general:documentLocked")}),(0,jsx_runtime.jsxs)("p",{children:[(0,jsx_runtime.jsx)("strong",{children:t5})," ",t("general:currentlyEditing")]}),(0,jsx_runtime.jsxs)("p",{children:[t("general:editedSince")," ",(0,jsx_runtime.jsx)("strong",{children:(date=updatedAt,date?new Intl.DateTimeFormat("en-US",{day:"numeric",hour:"numeric",hour12:!0,minute:"numeric",month:"short",year:"numeric"}).format(date):"")})]})]}),(0,jsx_runtime.jsxs)("div",{className:`${baseClass}__controls`,children:[(0,jsx_runtime.jsx)(Button.$,{buttonStyle:"secondary",id:`${modalSlug}-go-back`,onClick:t6,size:"large",children:t("general:goBack")}),(0,jsx_runtime.jsx)(Button.$,{buttonStyle:"secondary",id:`${modalSlug}-view-read-only`,onClick:t7,size:"large",children:t("general:viewReadOnly")}),(0,jsx_runtime.jsx)(Button.$,{buttonStyle:"primary",id:`${modalSlug}-take-over`,onClick:t8,size:"large",children:t("general:takeOver")})]})]})}),$[8]=closeModal,$[9]=handleGoBack,$[10]=onReadOnly,$[11]=onTakeOver,$[12]=startRouteTransition,$[13]=t,$[14]=t3,$[15]=updatedAt,$[16]=user,$[17]=t4}else t4=$[17];var date;return t4},DocumentLocked_stories={title:"@payloadcms/ui/elements/DocumentLocked",component:DocumentLocked,parameters:{docs:{description:{component:"DocumentLocked component from @payloadcms/ui/dist/elements/DocumentLocked"}}},argTypes:{},tags:["autodocs"]},Default=(args=>(0,jsx_runtime.jsx)(DocumentLocked,{...args})).bind({});Default.args={};const __namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"args => <DocumentLocked {...args} />",...Default.parameters?.docs?.source},description:{story:"Default state of the DocumentLocked component",...Default.parameters?.docs?.description}}}}}]);