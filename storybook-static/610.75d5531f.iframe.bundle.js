(self.webpackChunkcreate_payload_app=self.webpackChunkcreate_payload_app||[]).push([[610],{"./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/EditMany/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{e:()=>EditMany,Q:()=>EditMany_baseClass});var compiler_runtime=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/compiler-runtime.js"),jsx_runtime=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/jsx-runtime.js"),useModal=__webpack_require__("./node_modules/.pnpm/@faceless-ui+modal@3.0.0-beta.2_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/@faceless-ui/modal/dist/useModal/index.js"),react=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/index.js"),Auth=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/Auth/index.js"),EditDepth=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/EditDepth/index.js"),Selection=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/Selection/index.js"),Translation=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/Translation/index.js"),Drawer=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/Drawer/index.js"),dist_exports=__webpack_require__("./node_modules/.pnpm/@payloadcms+translations@3.31.0/node_modules/@payloadcms/translations/dist/exports/index.js"),navigation=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/navigation.js"),unflatten=__webpack_require__("./node_modules/.pnpm/payload@3.31.0_graphql@16.10.0_typescript@5.7.3/node_modules/payload/dist/utilities/unflatten.js"),mergeListSearchAndWhere=__webpack_require__("./node_modules/.pnpm/payload@3.31.0_graphql@16.10.0_typescript@5.7.3/node_modules/payload/dist/utilities/mergeListSearchAndWhere.js"),stringify=__webpack_require__("./node_modules/.pnpm/qs-esm@7.0.2/node_modules/qs-esm/lib/stringify.js"),context=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/forms/Form/context.js"),lite=__webpack_require__("./node_modules/.pnpm/dequal@2.0.3/node_modules/dequal/lite/index.mjs"),src=__webpack_require__("./node_modules/.pnpm/object-to-formdata@4.5.1/node_modules/object-to-formdata/src/index.js");var Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").hp;function copyBuffer(cur){return cur instanceof Buffer?Buffer.from(cur):new cur.constructor(cur.buffer.slice(),cur.byteOffset,cur.length)}const constructorHandlers=new Map;constructorHandlers.set(Date,(o=>new Date(o))),constructorHandlers.set(Map,((o,fn)=>new Map(cloneArray(Array.from(o),fn)))),constructorHandlers.set(Set,((o,fn)=>new Set(cloneArray(Array.from(o),fn)))),constructorHandlers.set(RegExp,(regex=>new RegExp(regex.source,regex.flags)));let handler=null;function cloneArray(a,fn){const keys=Object.keys(a),a2=new Array(keys.length);for(let i=0;i<keys.length;i++){const k=keys[i],cur=a[k];"object"!=typeof cur||null===cur?a2[k]=cur:cur instanceof RegExp?a2[k]=new RegExp(cur.source,cur.flags):cur.constructor!==Object&&(handler=constructorHandlers.get(cur.constructor))?a2[k]=handler(cur,fn):ArrayBuffer.isView(cur)?a2[k]=copyBuffer(cur):a2[k]=fn(cur)}return a2}function deepCopyObjectSimple(value,filterUndefined=!1){if("object"!=typeof value||null===value)return value;if(Array.isArray(value))return value.map((e=>"object"!=typeof e||null===e?e:deepCopyObjectSimple(e,filterUndefined)));{if(value instanceof Date)return new Date(value);const ret={};for(const k in value){const v=value[k];filterUndefined&&void 0===v||(ret[k]="object"!=typeof v||null===v?v:deepCopyObjectSimple(v,filterUndefined))}return ret}}function deepCopyObjectSimpleWithoutReactComponents(value){if("object"!=typeof value||null===value||!("$$typeof"in value)||"symbol"!=typeof value.$$typeof){if("object"!=typeof value||null===value)return value;if(Array.isArray(value))return value.map((e=>"object"!=typeof e||null===e?e:deepCopyObjectSimpleWithoutReactComponents(e)));{if(value instanceof Date)return new Date(value);const ret={};for(const k in value){const v=value[k];ret[k]="object"!=typeof v||null===v?v:deepCopyObjectSimpleWithoutReactComponents(v)}return ret}}}var reduceFieldsToValues=__webpack_require__("./node_modules/.pnpm/payload@3.31.0_graphql@16.10.0_typescript@5.7.3/node_modules/payload/dist/utilities/reduceFieldsToValues.js");var dist=__webpack_require__("./node_modules/.pnpm/sonner@1.7.4_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/sonner/dist/index.mjs");function groupSimilarErrors(items){const result=[];for(const item of items)if(item){const parts=item.split(" → ");let inserted=!1;for(let i=0;i<result.length;i++)if(result[i].startsWith(parts[0])){result.splice(i+1,0,item),inserted=!0;break}inserted||result.push(item)}return result}function FieldErrorsToast(t0){const $=(0,compiler_runtime.c)(5),{errorMessage}=t0;let t1;$[0]!==errorMessage?(t1=()=>function createErrorsFromMessage(message){const[intro,errorsString]=message.split(":");if(!errorsString)return{message:intro};const errors=errorsString.split(",").map((error=>error.replaceAll(" > "," → ").trim()));return 1===errors.length?{errors,message:`${intro}:`}:{errors:groupSimilarErrors(errors),message:`${intro} (${errors.length}):`}}(errorMessage),$[0]=errorMessage,$[1]=t1):t1=$[1];const[t2]=react.useState(t1),{errors,message}=t2;let t3;return $[2]!==errors||$[3]!==message?(t3=(0,jsx_runtime.jsxs)("div",{children:[message,Array.isArray(errors)&&errors.length>0?(0,jsx_runtime.jsx)("ul",{"data-testid":"field-errors",children:errors.map(_temp)}):null]}),$[2]=errors,$[3]=message,$[4]=t3):t3=$[4],t3}function _temp(error,index){return(0,jsx_runtime.jsx)("li",{children:error},index)}var useEffectEvent=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/hooks/useEffectEvent.js"),console=__webpack_require__("./node_modules/.pnpm/console-browserify@1.2.0/node_modules/console-browserify/index.js");var useThrottledEffect=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/hooks/useThrottledEffect.js"),Config=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/Config/index.js"),DocumentInfo=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/DocumentInfo/index.js"),Locale=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/Locale/index.js"),Operation=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/Operation/index.js"),RouteTransition=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/RouteTransition/index.js"),ServerFunctions=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/ServerFunctions/index.js");const Context=react.createContext(null);var abortAndIgnore=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/utilities/abortAndIgnore.js"),api=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/utilities/api.js");const errorMessages={413:"Your request was too large to submit successfully."};var objectid=__webpack_require__("./node_modules/.pnpm/bson-objectid@2.0.4/node_modules/bson-objectid/objectid.js"),objectid_default=__webpack_require__.n(objectid);const separateRows=(path,fields)=>{const remainingFields={},rows=Object.entries(fields).reduce(((incomingRows,[fieldPath,field])=>{const newRows=incomingRows;if(0===fieldPath.indexOf(`${path}.`)){const[rowIndex]=fieldPath.replace(`${path}.`,"").split(".");newRows[rowIndex]||(newRows[rowIndex]={}),newRows[rowIndex][fieldPath.replace(`${path}.${String(rowIndex)}.`,"")]={...field}}else remainingFields[fieldPath]=field;return newRows}),[]);return{remainingFields,rows}},flattenRows=(path,rows)=>rows.reduce(((fields,row,i)=>({...fields,...Object.entries(row).reduce(((subFields,[subPath,subField])=>({...subFields,[`${path}.${i}.${subPath}`]:{...subField}})),{})})),{}),ObjectId=objectid_default().default||objectid_default();function fieldReducer(state,action){switch(action.type){case"ADD_ROW":{const{blockType,path,rowIndex:rowIndexFromArgs,subFieldState={}}=action,rowIndex="number"==typeof rowIndexFromArgs?rowIndexFromArgs:state[path]?.rows?.length||0,withNewRow=[...state[path]?.rows||[]],newRow={id:subFieldState?.id?.value||(new ObjectId).toHexString(),blockType:blockType||void 0,collapsed:!1,isLoading:!0};withNewRow.splice(rowIndex,0,newRow),blockType&&(subFieldState.blockType={initialValue:blockType,valid:!0,value:blockType});const{remainingFields,rows:siblingRows}=separateRows(path,state);siblingRows.splice(rowIndex,0,subFieldState);return{...remainingFields,...flattenRows(path,siblingRows),[`${path}.${rowIndex}.id`]:{initialValue:newRow.id,passesCondition:!0,requiresRender:!0,valid:!0,value:newRow.id},[path]:{...state[path],disableFormData:!0,requiresRender:!0,rows:withNewRow,value:siblingRows.length}}}case"ADD_SERVER_ERRORS":{let newState={...state};const errorPaths=[];return action.errors.forEach((({message,path:fieldPath})=>{newState[fieldPath]={...newState[fieldPath]||{initialValue:null,value:null},errorMessage:message,valid:!1};const segments=fieldPath.split(".");segments.length>1&&errorPaths.push({fieldErrorPath:fieldPath,parentPath:segments.slice(0,segments.length-1).join(".")})})),newState=Object.entries(newState).reduce(((acc,[path,fieldState])=>{const fieldErrorPaths=errorPaths.reduce(((errorACC,{fieldErrorPath,parentPath})=>(parentPath.startsWith(path)&&errorACC.push(fieldErrorPath),errorACC)),[]);let changed=!1;if(fieldErrorPaths.length>0){const newErrorPaths=Array.isArray(fieldState.errorPaths)?fieldState.errorPaths:[];fieldErrorPaths.forEach((fieldErrorPath=>{newErrorPaths.includes(fieldErrorPath)||(newErrorPaths.push(fieldErrorPath),changed=!0)})),changed&&(acc[path]={...fieldState,errorPaths:newErrorPaths})}return changed||(acc[path]=fieldState),acc}),{}),newState}case"DUPLICATE_ROW":{const{path,rowIndex}=action,{remainingFields,rows}=separateRows(path,state),rowsMetadata=[...state[path].rows||[]],duplicateRowMetadata=deepCopyObjectSimple(rowsMetadata[rowIndex]);duplicateRowMetadata.id&&(duplicateRowMetadata.id=(new ObjectId).toHexString());const duplicateRowState=deepCopyObjectSimpleWithoutReactComponents(rows[rowIndex]);duplicateRowState.id&&(duplicateRowState.id.value=(new ObjectId).toHexString(),duplicateRowState.id.initialValue=(new ObjectId).toHexString());for(const key of Object.keys(duplicateRowState).filter((key=>key.endsWith(".id")))){const idState=duplicateRowState[key];idState&&"string"==typeof idState.value&&ObjectId.isValid(idState.value)&&(duplicateRowState[key].value=(new ObjectId).toHexString(),duplicateRowState[key].initialValue=(new ObjectId).toHexString())}Object.keys(duplicateRowState).length>0&&(rows.splice(rowIndex+1,0,duplicateRowState),rowsMetadata.splice(rowIndex+1,0,duplicateRowMetadata));return{...remainingFields,...flattenRows(path,rows),[path]:{...state[path],disableFormData:!0,requiresRender:!0,rows:rowsMetadata,value:rows.length}}}case"MOVE_ROW":{const{moveFromIndex,moveToIndex,path}=action,{remainingFields,rows:topLevelRows}=separateRows(path,state),copyOfMovingRow=topLevelRows[moveFromIndex];topLevelRows.splice(moveFromIndex,1),topLevelRows.splice(moveToIndex,0,copyOfMovingRow);const rowsWithinField=[...state[path]?.rows||[]],copyOfMovingRow2={...rowsWithinField[moveFromIndex]};rowsWithinField.splice(moveFromIndex,1),rowsWithinField.splice(moveToIndex,0,copyOfMovingRow2);const newState={...remainingFields,...flattenRows(path,topLevelRows),[path]:{...state[path],requiresRender:!0,rows:rowsWithinField}};if(newState[path]?.customComponents?.RowLabels){const customComponents={...newState[path].customComponents,RowLabels:[...newState[path].customComponents.RowLabels]};moveToIndex>=customComponents.RowLabels.length&&(customComponents.RowLabels.length=moveToIndex+1);const copyOfMovingLabel=customComponents.RowLabels[moveFromIndex];customComponents.RowLabels.splice(moveFromIndex,1),customComponents.RowLabels.splice(moveToIndex,0,copyOfMovingLabel),newState[path].customComponents=customComponents}return newState}case"REMOVE":{const newState={...state};return newState[action.path]&&delete newState[action.path],newState}case"REMOVE_ROW":{const{path,rowIndex}=action,{remainingFields,rows}=separateRows(path,state),rowsMetadata=[...state[path]?.rows||[]];rows.splice(rowIndex,1),rowsMetadata.splice(rowIndex,1);return{...remainingFields,[path]:{...state[path],disableFormData:rows.length>0,requiresRender:!0,rows:rowsMetadata,value:rows.length},...flattenRows(path,rows)}}case"REPLACE_ROW":{const{blockType,path,rowIndex:rowIndexArg,subFieldState={}}=action,{remainingFields,rows:siblingRows}=separateRows(path,state),rowIndex=Math.max(0,Math.min(rowIndexArg,siblingRows?.length-1||0)),rowsMetadata=[...state[path]?.rows||[]];rowsMetadata[rowIndex]={id:(new ObjectId).toHexString(),blockType:blockType||void 0,collapsed:!1},blockType&&(subFieldState.blockType={initialValue:blockType,valid:!0,value:blockType}),siblingRows[rowIndex]=subFieldState;return{...remainingFields,...flattenRows(path,siblingRows),[path]:{...state[path],disableFormData:!0,rows:rowsMetadata,value:siblingRows.length}}}case"REPLACE_STATE":if(!1!==action.optimize){const newState={};for(const[path,newField]of Object.entries(action.state)){const oldField=state[path];!1!==newField.valid&&(newField.valid=!0),!1!==newField.passesCondition&&(newField.passesCondition=!0),(0,lite.j)(oldField,newField)?oldField&&(newState[path]=oldField):newState[path]=newField}return newState}if(action.sanitize)for(const field of Object.values(action.state))!1!==field.valid&&(field.valid=!0),!1!==field.passesCondition&&(field.passesCondition=!0);return action.state;case"SET_ALL_ROWS_COLLAPSED":{const{path,updatedRows}=action;return{...state,[path]:{...state[path],rows:updatedRows}}}case"SET_ROW_COLLAPSED":{const{path,updatedRows}=action;return{...state,[path]:{...state[path],rows:updatedRows}}}case"UPDATE":{const newField=Object.entries(action).reduce(((field,[key,value])=>["disableFormData","errorMessage","initialValue","rows","valid","validate","value"].includes(key)?{...field,[key]:value}:field),state?.[action.path]||{});return{...state,[action.path]:newField}}case"UPDATE_MANY":{const newState={...state};return Object.entries(action.formState).forEach((([path,field])=>{newState[path]=field})),newState}default:return state}}const initContextState={addFieldRow:()=>{},buildRowErrors:()=>{},createFormData:()=>{},disabled:!1,dispatchFields:()=>{},fields:{},formRef:null,getData:()=>{},getDataByPath:()=>{},getField:()=>{},getFields:()=>({}),getSiblingData:()=>{},initializing:void 0,isValid:!0,removeFieldRow:()=>{},replaceFieldRow:()=>{},replaceState:()=>{},reset:()=>{},setBackgroundProcessing:()=>{},setDisabled:()=>{},setIsValid:()=>{},setModified:()=>{},setProcessing:()=>{},setSubmitted:()=>{},submit:()=>{},validateForm:()=>{}};const mergeErrorPaths=(existing,incoming)=>{if(!existing)return{changed:!1,result:void 0};const existingErrorPaths=[],incomingErrorPaths=[];return Array.isArray(incoming)&&incoming?.length&&incoming.forEach((path=>incomingErrorPaths.push(path))),Array.isArray(existing)&&existing?.length&&existing.forEach((path=>existingErrorPaths.push(path))),function arraysHaveSameStrings(arr1,arr2){if(arr1.length!==arr2.length)return!1;const sortedArr1=arr1.slice().sort(),sortedArr2=arr2.slice().sort();for(let i=0;i<sortedArr1.length;i++)if(sortedArr1[i]!==sortedArr2[i])return!1;return!0}(existingErrorPaths,incomingErrorPaths)?{changed:!1,result:existing}:{changed:!0,result:incomingErrorPaths}},mergeServerFormState=({acceptValues,existingState,incomingState})=>{let changed=!1;const newState={};if(existingState){const serverPropsToAccept=["passesCondition","valid","errorMessage","errorPaths","rows","customComponents","requiresRender"];acceptValues&&(serverPropsToAccept.push("value"),serverPropsToAccept.push("initialValue"));for(const[path,newFieldState]of Object.entries(existingState)){if(!incomingState[path])continue;let fieldChanged=!1;const errorPathsResult=mergeErrorPaths(newFieldState.errorPaths,incomingState[path].errorPaths);errorPathsResult.result&&(errorPathsResult.changed&&(changed=errorPathsResult.changed),newFieldState.errorPaths=errorPathsResult.result),(incomingState[path]?.filterOptions||newFieldState.filterOptions)&&((0,lite.j)(incomingState[path]?.filterOptions,newFieldState.filterOptions)||(changed=!0,fieldChanged=!0,newFieldState.filterOptions=incomingState[path].filterOptions)),serverPropsToAccept.forEach((prop=>{(0,lite.j)(incomingState[path]?.[prop],newFieldState[prop])||(changed=!0,fieldChanged=!0,prop in incomingState[path]?newFieldState[prop]=incomingState[path][prop]:"customComponents"!==prop&&delete newFieldState[prop])})),!1!==newFieldState.valid&&(newFieldState.valid=!0),!1!==newFieldState.passesCondition&&(newFieldState.passesCondition=!0),newState[path]=fieldChanged?{...newFieldState}:newFieldState}for(const[path,field]of Object.entries(incomingState))existingState[path]||(changed=!0,newState[path]=field)}return{changed,newState}};var Form_console=__webpack_require__("./node_modules/.pnpm/console-browserify@1.2.0/node_modules/console-browserify/index.js");const baseClass="form",Form=props=>{const{id,collectionSlug,docPermissions,getDocPreferences,globalSlug}=(0,DocumentInfo.r)(),{action,beforeSubmit,children,className,disabled:disabledFromProps,disableSuccessStatus,disableValidationOnSubmit,el,handleResponse,initialState,isDocumentForm,isInitializing:initializingFromProps,onChange,onSubmit,onSuccess,redirect,submitted:submittedFromProps,uuid,waitForAutocomplete}=props,method="method"in props?props?.method:void 0,router=(0,navigation.useRouter)(),documentForm=(0,context.L)(),{code:locale}=(0,Locale.Ym)(),{i18n,t}=(0,Translation.B)(),{refreshCookie,user}=(0,Auth.A)(),operation=(0,Operation.j9)(),{queueTask}=function useQueues(){const runningTaskRef=(0,react.useRef)(null),queuedTask=(0,react.useRef)(null),abortControllerRef=(0,react.useRef)(null);return{queueTask:(0,react.useCallback)((fn=>{queuedTask.current=fn,null===runningTaskRef.current?(async()=>{for(;queuedTask.current;){const taskToRun=queuedTask.current;queuedTask.current=null;const controller=new AbortController;abortControllerRef.current=controller;try{runningTaskRef.current=taskToRun(controller.signal),await runningTaskRef.current}catch(err){"AbortError"!==err.name&&console.error("Error in queued function:",err)}finally{runningTaskRef.current=null}}})():abortControllerRef.current&&abortControllerRef.current.abort()}),[])}}(),{getFormState}=(0,ServerFunctions.gL)(),{startRouteTransition}=(0,RouteTransition.y)(),{getUploadHandler}=(()=>{const context=react.use(Context);if(null===context)throw new Error("useUploadHandlers must be used within UploadHandlersProvider");return context})(),{config}=(0,Config.U)(),[disabled,setDisabled]=(0,react.useState)(disabledFromProps||!1),[isMounted,setIsMounted]=(0,react.useState)(!1),[modified,setModified]=(0,react.useState)(!1),[isValid,setIsValid]=(0,react.useState)(!0),[initializing,setInitializing]=(0,react.useState)(initializingFromProps),[processing,setProcessing]=(0,react.useState)(!1),[backgroundProcessing,setBackgroundProcessing]=(0,react.useState)(!1),[submitted,setSubmitted]=(0,react.useState)(!1),formRef=(0,react.useRef)(null),contextRef=(0,react.useRef)({}),abortResetFormRef=(0,react.useRef)(null),isFirstRenderRef=(0,react.useRef)(!0),fieldsReducer=(0,react.useReducer)(fieldReducer,{},(()=>initialState)),[fields,dispatchFields]=fieldsReducer;contextRef.current.fields=fields;const prevFields=(0,react.useRef)(fields),validateForm=(0,react.useCallback)((async()=>{const validatedFieldState={};let isValid_0=!0;const data=contextRef.current.getData(),validationPromises=Object.entries(contextRef.current.fields).map((async([path,field])=>{const validatedField=field,pathSegments=path?path.split("."):[];if(!1!==field.passesCondition){let validationResult=validatedField.valid;if("validate"in field&&"function"==typeof field.validate){let valueToValidate=field.value;field?.rows&&Array.isArray(field.rows)&&(valueToValidate=contextRef.current.getDataByPath(path)),validationResult=await field.validate(valueToValidate,{...field,id,collectionSlug,blockData:void 0,data:documentForm?.getData?documentForm.getData():data,event:"submit",operation,path:pathSegments,preferences:{},req:{payload:{config},t,user},siblingData:contextRef.current.getSiblingData(path)}),"string"==typeof validationResult?(validatedField.errorMessage=validationResult,validatedField.valid=!1):(validatedField.valid=!0,validatedField.errorMessage=void 0)}!1===validatedField.valid&&(isValid_0=!1)}validatedFieldState[path]=validatedField}));return await Promise.all(validationPromises),(0,lite.j)(contextRef.current.fields,validatedFieldState)||dispatchFields({type:"REPLACE_STATE",state:validatedFieldState}),setIsValid(isValid_0),isValid_0}),[collectionSlug,config,dispatchFields,id,operation,t,user,documentForm]),submit=(0,react.useCallback)((async(options={},e)=>{const{action:actionArg=action,method:methodToUse=method,overrides:overridesFromArgs={},skipValidation}=options;if(disabled)return void(e&&e.preventDefault());let errorToast,successToast;const promise=new Promise(((resolve,reject)=>{successToast=resolve,errorToast=reject})),hasFormSubmitAction=actionArg||"string"==typeof action||"function"==typeof action;if(redirect||disableSuccessStatus||!hasFormSubmitAction?(successToast=data_0=>dist.oR.success(data_0),errorToast=data_1=>dist.oR.error(data_1)):dist.oR.promise(promise,{error:data_2=>data_2,loading:t("general:submitting"),success:data_3=>data_3}),e&&(e.stopPropagation(),e.preventDefault()),setProcessing(!0),setDisabled(!0),waitForAutocomplete&&await async function wait(ms){return new Promise((resolve=>{setTimeout(resolve,ms)}))}(100),Array.isArray(beforeSubmit)){let revalidatedFormState;const serializableFields=deepCopyObjectSimpleWithoutReactComponents(contextRef.current.fields);await beforeSubmit.reduce((async(priorOnChange,beforeSubmitFn)=>{await priorOnChange;const result=await beforeSubmitFn({formState:serializableFields});revalidatedFormState=result}),Promise.resolve());const isValid_1=Object.entries(revalidatedFormState).every((([,field_0])=>!1!==field_0.valid));if(setIsValid(isValid_1),!isValid_1)return setProcessing(!1),setSubmitted(!0),setDisabled(!1),dispatchFields({type:"REPLACE_STATE",state:revalidatedFormState})}const isValid_2=!(!skipValidation&&!disableValidationOnSubmit)||await contextRef.current.validateForm();if(setIsValid(isValid_2),!isValid_2)return errorToast(t("error:correctInvalidFields")),setProcessing(!1),setSubmitted(!0),void setDisabled(!1);let overrides={};if("function"==typeof overridesFromArgs?overrides=overridesFromArgs(contextRef.current.fields):"object"==typeof overridesFromArgs&&(overrides=overridesFromArgs),onSubmit){const serializableFields_0=deepCopyObjectSimpleWithoutReactComponents(contextRef.current.fields),data_4=(0,reduceFieldsToValues.r)(serializableFields_0,!0);for(const[key,value]of Object.entries(overrides))data_4[key]=value;onSubmit(serializableFields_0,data_4)}if(!hasFormSubmitAction)return setProcessing(!1),setSubmitted(!0),void setDisabled(!1);const formData=await contextRef.current.createFormData(overrides,{mergeOverrideData:Boolean("function"!=typeof overridesFromArgs)});try{let res;if("string"==typeof actionArg?res=await api.z[methodToUse.toLowerCase()](actionArg,{body:formData,headers:{"Accept-Language":i18n.language}}):"function"==typeof action&&(res=await action(formData)),setModified(!1),setDisabled(!1),"function"==typeof handleResponse)return void handleResponse(res,successToast,errorToast);const contentType=res.headers.get("content-type"),isJSON=contentType&&-1!==contentType.indexOf("application/json");let json={};if(isJSON&&(json=await res.json()),res.status<400){if("function"==typeof onSuccess){const newFormState=await onSuccess(json);if(newFormState){const{newState:mergedFormState}=mergeServerFormState({acceptValues:!0,existingState:contextRef.current.fields||{},incomingState:newFormState});dispatchFields({type:"REPLACE_STATE",optimize:!1,state:mergedFormState})}}setSubmitted(!1),setProcessing(!1),redirect?startRouteTransition((()=>router.push(redirect))):disableSuccessStatus||successToast(json.message||t("general:submissionSuccessful"))}else{if(setProcessing(!1),setSubmitted(!0),contextRef.current={...contextRef.current},json.message)return void errorToast(json.message);if(Array.isArray(json.errors)){const[fieldErrors,nonFieldErrors]=json.errors.reduce((([fieldErrs,nonFieldErrs],err_0)=>{const newFieldErrs=[],newNonFieldErrs=[];return err_0?.message&&newNonFieldErrs.push(err_0),Array.isArray(err_0?.data?.errors)&&err_0.data?.errors.forEach((dataError=>{dataError?.path?newFieldErrs.push(dataError):newNonFieldErrs.push(dataError)})),[[...fieldErrs,...newFieldErrs],[...nonFieldErrs,...newNonFieldErrs]]}),[[],[]]);return setIsValid(!1),dispatchFields({type:"ADD_SERVER_ERRORS",errors:fieldErrors}),void nonFieldErrors.forEach((err_1=>{errorToast((0,jsx_runtime.jsx)(FieldErrorsToast,{errorMessage:err_1.message||t("error:unknown")}))}))}const message=errorMessages?.[res.status]||res?.statusText||t("error:unknown");errorToast(message)}}catch(err){Form_console.error("Error submitting form",err),setProcessing(!1),setSubmitted(!0),setDisabled(!1),errorToast(err.message)}}),[beforeSubmit,startRouteTransition,action,disableSuccessStatus,disableValidationOnSubmit,disabled,dispatchFields,handleResponse,method,onSubmit,onSuccess,redirect,router,t,i18n,waitForAutocomplete]),getFields=(0,react.useCallback)((()=>contextRef.current.fields),[]),getField=(0,react.useCallback)((path_0=>contextRef.current.fields[path_0]),[]),getData=(0,react.useCallback)((()=>(0,reduceFieldsToValues.r)(contextRef.current.fields,!0)),[]),getSiblingData=(0,react.useCallback)((path_1=>((fields,path)=>{if(!fields)return null;if(-1===path.indexOf("."))return(0,reduceFieldsToValues.r)(fields,!0);const siblingFields={},pathSegments=path.split("."),lastSegment=pathSegments[pathSegments.length-1],lastSegmentIsRowIndex=!Number.isNaN(Number(lastSegment));let parentFieldPath;return parentFieldPath=lastSegmentIsRowIndex?`${path}.`:path.substring(0,path.lastIndexOf(".")+1),Object.keys(fields).forEach((fieldKey=>{fields[fieldKey].disableFormData||0!==fieldKey.indexOf(parentFieldPath)||(siblingFields[fieldKey.replace(parentFieldPath,"")]=fields[fieldKey].value)})),(0,unflatten.s)(siblingFields)})(contextRef.current.fields,path_1)),[]),getDataByPath=(0,react.useCallback)((path_2=>((fields,path)=>{const pathPrefixToRemove=path.substring(0,path.lastIndexOf(".")+1),name=path.split(".").pop(),data={};Object.keys(fields).forEach((key=>{fields[key].disableFormData||0!==key.indexOf(`${path}.`)&&key!==path||(data[key.replace(pathPrefixToRemove,"")]=fields[key].value,fields[key]?.rows&&0===fields[key].rows.length&&(data[key.replace(pathPrefixToRemove,"")]=[]))}));const unflattenedData=(0,unflatten.s)(data);return unflattenedData?.[name]})(contextRef.current.fields,path_2)),[]),createFormData=(0,react.useCallback)((async(overrides_0,{mergeOverrideData=!0})=>{let data_5=(0,reduceFieldsToValues.r)(contextRef.current.fields,!0),file=data_5?.file;file&&delete data_5.file,data_5=mergeOverrideData?{...data_5,...overrides_0}:overrides_0;const handler=getUploadHandler({collectionSlug});if(file&&"function"==typeof handler){let filename=file.name;const clientUploadContext=await handler({file,updateFilename:value_0=>{filename=value_0}});file=JSON.stringify({clientUploadContext,collectionSlug,filename,mimeType:file.type,size:file.size})}const dataToSerialize={_payload:JSON.stringify(data_5),file};return(0,src.serialize)(dataToSerialize,{indices:!0,nullsAsUndefineds:!1})}),[collectionSlug,getUploadHandler]),reset=(0,react.useCallback)((async data_6=>{const controller=(0,abortAndIgnore.w)(abortResetFormRef),docPreferences=await getDocPreferences(),{state:newState}=await getFormState({id,collectionSlug,data:data_6,docPermissions,docPreferences,globalSlug,locale,operation,renderAllFields:!0,schemaPath:collectionSlug||globalSlug,signal:controller.signal,skipValidation:!0});contextRef.current={...initContextState},setModified(!1),dispatchFields({type:"REPLACE_STATE",state:newState}),abortResetFormRef.current=null}),[collectionSlug,dispatchFields,globalSlug,id,operation,getFormState,docPermissions,getDocPreferences,locale]),replaceState=(0,react.useCallback)((state=>{contextRef.current={...initContextState},setModified(!1),dispatchFields({type:"REPLACE_STATE",state})}),[dispatchFields]),addFieldRow=(0,react.useCallback)((({blockType,path:path_3,rowIndex:rowIndexArg,subFieldState})=>{const newRows=getDataByPath(path_3)||[],rowIndex=void 0===rowIndexArg?newRows.length:rowIndexArg;dispatchFields({type:"ADD_ROW",blockType,path:path_3,rowIndex,subFieldState}),setModified(!0)}),[dispatchFields,getDataByPath]),removeFieldRow=(0,react.useCallback)((({path:path_4,rowIndex:rowIndex_0})=>{dispatchFields({type:"REMOVE_ROW",path:path_4,rowIndex:rowIndex_0})}),[dispatchFields]),replaceFieldRow=(0,react.useCallback)((({blockType:blockType_0,path:path_5,rowIndex:rowIndexArg_0,subFieldState:subFieldState_0})=>{const currentRows=getDataByPath(path_5),rowIndex_1=void 0===rowIndexArg_0?currentRows.length:rowIndexArg_0;dispatchFields({type:"REPLACE_ROW",blockType:blockType_0,path:path_5,rowIndex:rowIndex_1,subFieldState:subFieldState_0}),setModified(!0)}),[dispatchFields,getDataByPath]);(0,react.useEffect)((()=>{const abortOnChange=abortResetFormRef.current;return()=>{(0,abortAndIgnore.e)(abortOnChange)}}),[]),(0,react.useEffect)((()=>{void 0!==initializingFromProps&&setInitializing(initializingFromProps)}),[initializingFromProps]),contextRef.current.submit=submit,contextRef.current.getFields=getFields,contextRef.current.getField=getField,contextRef.current.getData=getData,contextRef.current.getSiblingData=getSiblingData,contextRef.current.getDataByPath=getDataByPath,contextRef.current.validateForm=validateForm,contextRef.current.createFormData=createFormData,contextRef.current.setModified=setModified,contextRef.current.setProcessing=setProcessing,contextRef.current.setBackgroundProcessing=setBackgroundProcessing,contextRef.current.setSubmitted=setSubmitted,contextRef.current.setIsValid=setIsValid,contextRef.current.disabled=disabled,contextRef.current.setDisabled=setDisabled,contextRef.current.formRef=formRef,contextRef.current.reset=reset,contextRef.current.replaceState=replaceState,contextRef.current.dispatchFields=dispatchFields,contextRef.current.addFieldRow=addFieldRow,contextRef.current.removeFieldRow=removeFieldRow,contextRef.current.replaceFieldRow=replaceFieldRow,contextRef.current.uuid=uuid,contextRef.current.initializing=initializing,contextRef.current.isValid=isValid,(0,react.useEffect)((()=>{setIsMounted(!0)}),[]),(0,react.useEffect)((()=>{"boolean"==typeof disabledFromProps&&setDisabled(disabledFromProps)}),[disabledFromProps]),(0,react.useEffect)((()=>{"boolean"==typeof submittedFromProps&&setSubmitted(submittedFromProps)}),[submittedFromProps]),(0,react.useEffect)((()=>{initialState&&(contextRef.current={...initContextState},dispatchFields({type:"REPLACE_STATE",optimize:!1,sanitize:!0,state:initialState}))}),[initialState,dispatchFields]),(0,useThrottledEffect.j)((()=>{refreshCookie()}),15e3,[fields]),(0,react.useEffect)((()=>{contextRef.current={...contextRef.current},setModified(!1)}),[locale]);const classes=[className,baseClass].filter(Boolean).join(" "),executeOnChange=(0,useEffectEvent.J)((async(submitted_0,signal)=>{if(Array.isArray(onChange)){let revalidatedFormState_0=contextRef.current.fields;for(const onChangeFn of onChange){if(signal.aborted)return;revalidatedFormState_0=await onChangeFn({formState:deepCopyObjectSimpleWithoutReactComponents(contextRef.current.fields),submitted:submitted_0})}if(!revalidatedFormState_0)return;const{changed,newState:newState_0}=mergeServerFormState({existingState:contextRef.current.fields||{},incomingState:revalidatedFormState_0});changed&&!signal.aborted&&(prevFields.current=newState_0,dispatchFields({type:"REPLACE_STATE",optimize:!1,state:newState_0}))}}));!function useDebouncedEffect(effect,deps,delay){const $=(0,compiler_runtime.c)(11);let t0;$[0]!==effect?(t0=()=>effect,$[0]=effect,$[1]=t0):t0=$[1];const[debouncedEffect,setDebouncedEffect]=(0,react.useState)(t0);let t1,t2,t3,t4;$[2]!==delay||$[3]!==effect?(t1=()=>{const handler=setTimeout((()=>{setDebouncedEffect((()=>effect))}),delay);return()=>{clearTimeout(handler)}},$[2]=delay,$[3]=effect,$[4]=t1):t1=$[4],$[5]!==delay||$[6]!==deps?(t2=[...deps,delay],$[5]=delay,$[6]=deps,$[7]=t2):t2=$[7],(0,react.useEffect)(t1,t2),$[8]!==debouncedEffect?(t3=()=>{debouncedEffect()},t4=[debouncedEffect],$[8]=debouncedEffect,$[9]=t3,$[10]=t4):(t3=$[9],t4=$[10]),(0,react.useEffect)(t3,t4)}((()=>{!isFirstRenderRef.current&&(0,lite.j)(fields,prevFields.current)||!modified||queueTask((async signal_0=>executeOnChange(submitted,signal_0))),prevFields.current=fields,isFirstRenderRef.current=!1}),[modified,submitted,fields,queueTask],250);const DocumentFormContextComponent=isDocumentForm?context.D3:react.Fragment,documentFormContextProps=isDocumentForm?{value:contextRef.current}:{},El=el||"form";return(0,jsx_runtime.jsx)(El,{action:"function"==typeof action?void 0:action,className:classes,method,noValidate:!0,onSubmit:e_0=>{contextRef.current.submit({},e_0)},ref:formRef,children:(0,jsx_runtime.jsx)(DocumentFormContextComponent,{...documentFormContextProps,children:(0,jsx_runtime.jsx)(context.cK,{value:contextRef.current,children:(0,jsx_runtime.jsx)(context.R4,{value:{fields,...contextRef.current},children:(0,jsx_runtime.jsx)(context.to,{value:submitted,children:(0,jsx_runtime.jsx)(context.BR,{value:!isMounted||isMounted&&initializing,children:(0,jsx_runtime.jsx)(context.pM,{value:processing,children:(0,jsx_runtime.jsx)(context.H$,{value:backgroundProcessing,children:(0,jsx_runtime.jsx)(context.Ni,{value:modified,children:(0,jsx_runtime.jsx)(context.v5.Provider,{value:fieldsReducer,children})})})})})})})})})})};var RenderField=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/forms/RenderFields/RenderField.js"),Submit=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/forms/Submit/index.js"),X=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/icons/X/index.js"),RouteCache=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/RouteCache/index.js"),parseSearchParams=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/utilities/parseSearchParams.js"),FieldSelect=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/FieldSelect/index.js");const DrawerContent_Submit=t0=>{const $=(0,compiler_runtime.c)(7),{action,disabled}=t0,{submit}=(0,context.mN)(),{t}=(0,Translation.B)();let t1;$[0]!==action||$[1]!==submit?(t1=()=>{submit({action,method:"PATCH",skipValidation:!0})},$[0]=action,$[1]=submit,$[2]=t1):t1=$[2];const save=t1;let t2;return $[3]!==disabled||$[4]!==save||$[5]!==t?(t2=(0,jsx_runtime.jsx)(Submit.h,{className:`${EditMany_baseClass}__save`,disabled,onClick:save,children:t("general:save")}),$[3]=disabled,$[4]=save,$[5]=t,$[6]=t2):t2=$[6],t2},PublishButton=t0=>{const $=(0,compiler_runtime.c)(7),{action,disabled}=t0,{submit}=(0,context.mN)(),{t}=(0,Translation.B)();let t1;$[0]!==action||$[1]!==submit?(t1=()=>{submit({action,method:"PATCH",overrides:{_status:"published"},skipValidation:!0})},$[0]=action,$[1]=submit,$[2]=t1):t1=$[2];const save=t1;let t2;return $[3]!==disabled||$[4]!==save||$[5]!==t?(t2=(0,jsx_runtime.jsx)(Submit.h,{className:`${EditMany_baseClass}__publish`,disabled,onClick:save,children:t("version:publishChanges")}),$[3]=disabled,$[4]=save,$[5]=t,$[6]=t2):t2=$[6],t2},SaveDraftButton=t0=>{const $=(0,compiler_runtime.c)(7),{action,disabled}=t0,{submit}=(0,context.mN)(),{t}=(0,Translation.B)();let t1;$[0]!==action||$[1]!==submit?(t1=()=>{submit({action,method:"PATCH",overrides:{_status:"draft"},skipValidation:!0})},$[0]=action,$[1]=submit,$[2]=t1):t1=$[2];const save=t1;let t2;return $[3]!==disabled||$[4]!==save||$[5]!==t?(t2=(0,jsx_runtime.jsx)(Submit.h,{buttonStyle:"secondary",className:`${EditMany_baseClass}__draft`,disabled,onClick:save,children:t("version:saveDraft")}),$[3]=disabled,$[4]=save,$[5]=t,$[6]=t2):t2=$[6],t2},EditManyDrawerContent=props=>{const{collection:{fields,labels:{plural,singular}}={},collection,drawerSlug,selectedFields,setSelectedFields}=props,{permissions,user}=(0,Auth.A)(),{closeModal}=(0,useModal.h)(),{config:{routes:{api:apiRoute},serverURL}}=(0,Config.U)(),{getFormState}=(0,ServerFunctions.gL)(),{count,getQueryParams,selectAll}=(0,Selection.Cd)(),{i18n,t}=(0,Translation.B)(),[isInitializing,setIsInitializing]=(0,react.useState)(!1),router=(0,navigation.useRouter)(),abortFormStateRef=react.useRef(null),{clearRouteCache}=(0,RouteCache.P)(),collectionPermissions=permissions?.collections?.[collection.slug],searchParams=(0,navigation.useSearchParams)(),select=(0,react.useMemo)((()=>(0,unflatten.s)(selectedFields.reduce(((acc,option)=>(acc[option.value.path]=!0,acc)),{}))),[selectedFields]),onChange=(0,react.useCallback)((async({formState:prevFormState,submitted})=>{const controller=(0,abortAndIgnore.w)(abortFormStateRef),{state}=await getFormState({collectionSlug:collection.slug,docPermissions:collectionPermissions,docPreferences:null,formState:prevFormState,operation:"update",schemaPath:collection.slug,select,signal:controller.signal,skipValidation:!submitted});return abortFormStateRef.current=null,state}),[getFormState,collection,collectionPermissions,select]);(0,react.useEffect)((()=>{const abortFormState=abortFormStateRef.current;return()=>{(0,abortAndIgnore.e)(abortFormState)}}),[]);const queryString=(0,react.useMemo)((()=>{const queryWithSearch=(0,mergeListSearchAndWhere.d)({collectionConfig:collection,search:searchParams.get("search")});return getQueryParams(queryWithSearch)}),[collection,searchParams,getQueryParams]),onFieldSelect=(0,react.useCallback)((async({dispatchFields,formState,selected})=>{setIsInitializing(!0),setSelectedFields(selected||[]);const{state:state_0}=await getFormState({collectionSlug:collection.slug,docPermissions:collectionPermissions,docPreferences:null,formState,operation:"update",schemaPath:collection.slug,select:(0,unflatten.s)(selected.reduce(((acc_0,option_0)=>(acc_0[option_0.value.path]=!0,acc_0)),{})),skipValidation:!0});dispatchFields({type:"UPDATE_MANY",formState:state_0}),setIsInitializing(!1)}),[getFormState,collection.slug,collectionPermissions,setSelectedFields]);return(0,jsx_runtime.jsx)(DocumentInfo.F,{collectionSlug:collection.slug,currentEditor:user,hasPublishedDoc:!1,id:null,initialData:{},isLocked:!1,lastUpdateTime:0,mostRecentVersionIsAutosaved:!1,unpublishedVersionCount:0,versionCount:0,children:(0,jsx_runtime.jsx)(Operation.nz,{value:"update",children:(0,jsx_runtime.jsxs)("div",{className:`${EditMany_baseClass}__main`,children:[(0,jsx_runtime.jsxs)("div",{className:`${EditMany_baseClass}__header`,children:[(0,jsx_runtime.jsx)("h2",{className:`${EditMany_baseClass}__header__title`,children:t("general:editingLabel",{count,label:(0,dist_exports.sC)(count>1?plural:singular,i18n)})}),(0,jsx_runtime.jsx)("button",{"aria-label":t("general:close"),className:`${EditMany_baseClass}__header__close`,id:`close-drawer__${drawerSlug}`,onClick:()=>closeModal(drawerSlug),type:"button",children:(0,jsx_runtime.jsx)(X.u,{})})]}),(0,jsx_runtime.jsxs)(Form,{className:`${EditMany_baseClass}__form`,isInitializing,onChange:[onChange],onSuccess:()=>{router.replace(stringify.A({...(0,parseSearchParams._)(searchParams),page:selectAll===Selection.uf.AllAvailable?"1":void 0},{addQueryPrefix:!0})),clearRouteCache(),closeModal(drawerSlug)},children:[(0,jsx_runtime.jsx)(FieldSelect.H,{fields,onChange:onFieldSelect,permissions:collectionPermissions.fields}),0===selectedFields.length?null:(0,jsx_runtime.jsx)("div",{className:"render-fields",children:selectedFields.map(((option_1,i)=>{const{value:{field,fieldPermissions,path}}=option_1;return(0,jsx_runtime.jsx)(RenderField.J,{clientFieldConfig:field,indexPath:"",parentPath:"",parentSchemaPath:"",path,permissions:fieldPermissions},`${path}-${i}`)}))}),(0,jsx_runtime.jsx)("div",{className:`${EditMany_baseClass}__sidebar-wrap`,children:(0,jsx_runtime.jsx)("div",{className:`${EditMany_baseClass}__sidebar`,children:(0,jsx_runtime.jsx)("div",{className:`${EditMany_baseClass}__sidebar-sticky-wrap`,children:(0,jsx_runtime.jsx)("div",{className:`${EditMany_baseClass}__document-actions`,children:collection?.versions?.drafts?(0,jsx_runtime.jsxs)(react.Fragment,{children:[(0,jsx_runtime.jsx)(SaveDraftButton,{action:`${serverURL}${apiRoute}/${collection.slug}${queryString}&draft=true`,disabled:0===selectedFields.length}),(0,jsx_runtime.jsx)(PublishButton,{action:`${serverURL}${apiRoute}/${collection.slug}${queryString}&draft=true`,disabled:0===selectedFields.length})]}):(0,jsx_runtime.jsx)(DrawerContent_Submit,{action:`${serverURL}${apiRoute}/${collection.slug}${queryString}`,disabled:0===selectedFields.length})})})})})]})]})})})},EditMany_baseClass="edit-many",EditMany=props=>{const $=(0,compiler_runtime.c)(10),{collection:t0}=props,{slug}=t0,{permissions}=(0,Auth.A)(),{openModal}=(0,useModal.h)(),{selectAll}=(0,Selection.Cd)(),{t}=(0,Translation.B)();let t1;$[0]===Symbol.for("react.memo_cache_sentinel")?(t1=[],$[0]=t1):t1=$[0];const[selectedFields,setSelectedFields]=(0,react.useState)(t1),collectionPermissions=permissions?.collections?.[slug],drawerSlug=`edit-${slug}`;if(selectAll===Selection.uf.None||!collectionPermissions?.update)return null;let t2;if($[1]!==drawerSlug||$[2]!==openModal||$[3]!==props.collection||$[4]!==selectedFields||$[5]!==t){let t3;$[7]!==drawerSlug||$[8]!==openModal?(t3=()=>{openModal(drawerSlug),setSelectedFields([])},$[7]=drawerSlug,$[8]=openModal,$[9]=t3):t3=$[9],t2=(0,jsx_runtime.jsxs)("div",{className:EditMany_baseClass,children:[(0,jsx_runtime.jsx)("button",{"aria-label":t("general:edit"),className:`${EditMany_baseClass}__toggle`,onClick:t3,type:"button",children:t("general:edit")}),(0,jsx_runtime.jsx)(EditDepth.lL,{children:(0,jsx_runtime.jsx)(Drawer._s,{Header:null,slug:drawerSlug,children:(0,jsx_runtime.jsx)(EditManyDrawerContent,{collection:props.collection,drawerSlug,selectedFields,setSelectedFields})})})]}),$[1]=drawerSlug,$[2]=openModal,$[3]=props.collection,$[4]=selectedFields,$[5]=t,$[6]=t2}else t2=$[6];return t2}},"./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/FieldSelect/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{H:()=>FieldSelect});var compiler_runtime=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/compiler-runtime.js"),jsx_runtime=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/index.js"),FieldLabel=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/fields/FieldLabel/index.js"),context=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/forms/Form/context.js"),Translation=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/Translation/index.js");const filterOutUploadFields=fields=>{const baseUploadFieldNames=["file","mimeType","thumbnailURL","width","height","filesize","filename","url","focalX","focalY","sizes"];return fields.filter((field=>!baseUploadFieldNames.includes("name"in field&&field.name)))};var ReactSelect=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/ReactSelect/index.js"),getFieldPermissions=__webpack_require__("./node_modules/.pnpm/payload@3.31.0_graphql@16.10.0_typescript@5.7.3/node_modules/payload/dist/utilities/getFieldPermissions.js"),types=__webpack_require__("./node_modules/.pnpm/payload@3.31.0_graphql@16.10.0_typescript@5.7.3/node_modules/payload/dist/fields/config/types.js"),createNestedClientFieldPath=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/forms/Form/createNestedClientFieldPath.js"),combineFieldLabel=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/utilities/combineFieldLabel.js");const reduceFieldOptions=({fields,formState,labelPrefix=null,parentPath="",path="",permissions})=>{if(!fields)return[];const CustomLabel=formState?.[path]?.customComponents?.Label;return fields?.reduce(((fieldsToUse,field)=>{const{operation:hasOperationPermission,permissions:fieldPermissions,read:hasReadPermission}=(0,getFieldPermissions.P)({field,operation:"update",parentName:parentPath?.includes(".")?parentPath.split(".")[parentPath.split(".").length-1]:parentPath,permissions});if(((0,types.Z7)(field)||"ui"===field.type)&&(field.admin?.disableBulkEdit||field.unique||(0,types.I2)(field)||"readOnly"in field&&field.readOnly||!hasOperationPermission||!hasReadPermission))return fieldsToUse;if("array"!==field.type&&"blocks"!==field.type&&(0,types.sd)(field))return[...fieldsToUse,...reduceFieldOptions({fields:field.fields,labelPrefix:(0,combineFieldLabel.g)({CustomLabel,field,prefix:labelPrefix}),parentPath:path,path:(0,createNestedClientFieldPath.i)(path,field),permissions:fieldPermissions})];if("tabs"===field.type&&"tabs"in field)return[...fieldsToUse,...field.tabs.reduce(((tabFields,tab)=>{if("fields"in tab){const isNamedTab="name"in tab&&tab.name;return[...tabFields,...reduceFieldOptions({fields:tab.fields,labelPrefix,parentPath:path,path:isNamedTab?(0,createNestedClientFieldPath.i)(path,field):path,permissions:fieldPermissions})]}}),[])];const formattedField={label:(0,combineFieldLabel.g)({CustomLabel,field,prefix:labelPrefix}),value:{field,fieldPermissions,path:(0,createNestedClientFieldPath.i)(path,field)}};return[...fieldsToUse,formattedField]}),[])},FieldSelect=t0=>{const $=(0,compiler_runtime.c)(14),{fields,onChange,permissions}=t0,{t}=(0,Translation.B)(),{dispatchFields,getFields}=(0,context.mN)();let t1;$[0]!==fields||$[1]!==getFields||$[2]!==permissions?(t1=()=>reduceFieldOptions({fields:filterOutUploadFields(fields),formState:getFields(),permissions}),$[0]=fields,$[1]=getFields,$[2]=permissions,$[3]=t1):t1=$[3];const[options]=(0,react.useState)(t1);let t2;if($[4]!==dispatchFields||$[5]!==getFields||$[6]!==onChange||$[7]!==options||$[8]!==t){let t3;$[10]!==dispatchFields||$[11]!==getFields||$[12]!==onChange?(t3=selected=>onChange({dispatchFields,formState:getFields(),selected}),$[10]=dispatchFields,$[11]=getFields,$[12]=onChange,$[13]=t3):t3=$[13],t2=(0,jsx_runtime.jsxs)("div",{className:"field-select",children:[(0,jsx_runtime.jsx)(FieldLabel.d,{label:t("fields:selectFieldsToEdit")}),(0,jsx_runtime.jsx)(ReactSelect._,{getOptionValue:_temp,isMulti:!0,onChange:t3,options})]}),$[4]=dispatchFields,$[5]=getFields,$[6]=onChange,$[7]=options,$[8]=t,$[9]=t2}else t2=$[9];return t2};function _temp(option){return"object"==typeof option.value&&"path"in option.value?String(option.value.path):String(option.value)}},"./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/forms/Form/createNestedClientFieldPath.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{i:()=>createNestedClientFieldPath});var payload_shared__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/payload@3.31.0_graphql@16.10.0_typescript@5.7.3/node_modules/payload/dist/fields/config/types.js");const createNestedClientFieldPath=(parentPath,field)=>parentPath?(0,payload_shared__WEBPACK_IMPORTED_MODULE_0__.Z7)(field)?`${parentPath}.${field.name}`:parentPath:(0,payload_shared__WEBPACK_IMPORTED_MODULE_0__.Z7)(field)?field.name:""},"./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/forms/Submit/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{h:()=>FormSubmit});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/jsx-runtime.js"),_elements_Button_index_js__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/index.js"),__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/Button/index.js")),_Form_context_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/forms/Form/context.js");const FormSubmit=props=>{const{type="submit",buttonId:id,children,disabled:disabledFromProps,onClick,programmaticSubmit,ref}=props,processing=(0,_Form_context_js__WEBPACK_IMPORTED_MODULE_2__.dS)(),backgroundProcessing=(0,_Form_context_js__WEBPACK_IMPORTED_MODULE_2__.H3)(),initializing=(0,_Form_context_js__WEBPACK_IMPORTED_MODULE_2__.$E)(),{disabled,submit}=(0,_Form_context_js__WEBPACK_IMPORTED_MODULE_2__.mN)(),canSave=!(disabledFromProps||initializing||processing||backgroundProcessing||disabled),handleClick=onClick??(programmaticSubmit?()=>{submit()}:void 0);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"form-submit",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_elements_Button_index_js__WEBPACK_IMPORTED_MODULE_3__.$,{ref,...props,disabled:!canSave||void 0,id,onClick:handleClick,type,children})})}},"./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/RouteCache/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{P:()=>useRouteCache});__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/compiler-runtime.js"),__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/jsx-runtime.js"),__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/navigation.js");var react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/index.js");const Context=(0,react__WEBPACK_IMPORTED_MODULE_3__.createContext)({clearRouteCache:()=>{}}),useRouteCache=()=>(0,react__WEBPACK_IMPORTED_MODULE_3__.use)(Context)},"./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/providers/Selection/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Cd:()=>useSelection,uf:()=>SelectAllStatus});__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/jsx-runtime.js"),__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/navigation.js");var react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/index.js"),SelectAllStatus=function(SelectAllStatus){return SelectAllStatus.AllAvailable="allAvailable",SelectAllStatus.AllInPage="allInPage",SelectAllStatus.None="none",SelectAllStatus.Some="some",SelectAllStatus}({});const Context=(0,react__WEBPACK_IMPORTED_MODULE_2__.createContext)({}),useSelection=()=>(0,react__WEBPACK_IMPORTED_MODULE_2__.use)(Context)},"./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/utilities/combineFieldLabel.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{g:()=>combineFieldLabel});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/next@15.2.3_@babel+core@7.26.10_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.77.4/node_modules/next/dist/compiled/react/index.js"),_elements_RenderCustomComponent_index_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/elements/RenderCustomComponent/index.js"),_fields_FieldLabel_index_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.31.0_@types+react@19.0.12_monaco-editor@0.52.2_next@15.2.3_@babel+core@7.26._s35ydyxurzhrrb4ha2zknhusuy/node_modules/@payloadcms/ui/dist/fields/FieldLabel/index.js");const combineFieldLabel=({CustomLabel,field,prefix})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:[prefix?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{style:{display:"inline-block"},children:prefix})," > "]}):null,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{style:{display:"inline-block"},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_elements_RenderCustomComponent_index_js__WEBPACK_IMPORTED_MODULE_2__.n,{CustomComponent:CustomLabel,Fallback:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_fields_FieldLabel_index_js__WEBPACK_IMPORTED_MODULE_3__.d,{label:"label"in field&&field.label})})})]})},"./node_modules/.pnpm/object-to-formdata@4.5.1/node_modules/object-to-formdata/src/index.js":module=>{function isUndefined(value){return void 0===value}function isObject(value){return value===Object(value)}function isArray(value){return Array.isArray(value)}function isBlob(value,isReactNative){return isReactNative?isObject(value)&&!isUndefined(value.uri):isObject(value)&&"number"==typeof value.size&&"string"==typeof value.type&&"function"==typeof value.slice}function initCfg(value){return!isUndefined(value)&&value}module.exports={serialize:function serialize(obj,cfg,fd,pre){cfg=cfg||{},fd=fd||new FormData,cfg.indices=initCfg(cfg.indices),cfg.nullsAsUndefineds=initCfg(cfg.nullsAsUndefineds),cfg.booleansAsIntegers=initCfg(cfg.booleansAsIntegers),cfg.allowEmptyArrays=initCfg(cfg.allowEmptyArrays),cfg.noAttributesWithArrayNotation=initCfg(cfg.noAttributesWithArrayNotation),cfg.noFilesWithArrayNotation=initCfg(cfg.noFilesWithArrayNotation),cfg.dotsForObjectNotation=initCfg(cfg.dotsForObjectNotation);const isReactNative="function"==typeof fd.getParts;return isUndefined(obj)||(!function isNull(value){return null===value}(obj)?!function isBoolean(value){return"boolean"==typeof value}(obj)?isArray(obj)?obj.length?obj.forEach(((value,index)=>{let key=pre+"["+(cfg.indices?index:"")+"]";(cfg.noAttributesWithArrayNotation||cfg.noFilesWithArrayNotation&&function isFile(value,isReactNative){return isBlob(value,isReactNative)&&"string"==typeof value.name&&(isObject(value.lastModifiedDate)||"number"==typeof value.lastModified)}(value,isReactNative))&&(key=pre),serialize(value,cfg,fd,key)})):cfg.allowEmptyArrays&&fd.append(cfg.noAttributesWithArrayNotation?pre:pre+"[]",""):!function isDate(value){return value instanceof Date}(obj)?isObject(obj)&&!isBlob(obj,isReactNative)?Object.keys(obj).forEach((prop=>{const value=obj[prop];if(isArray(value))for(;prop.length>2&&prop.lastIndexOf("[]")===prop.length-2;)prop=prop.substring(0,prop.length-2);const key=pre?cfg.dotsForObjectNotation?pre+"."+prop:pre+"["+prop+"]":prop;serialize(value,cfg,fd,key)})):fd.append(pre,obj):fd.append(pre,obj.toISOString()):cfg.booleansAsIntegers?fd.append(pre,obj?1:0):fd.append(pre,obj):cfg.nullsAsUndefineds||fd.append(pre,"")),fd}}},"./node_modules/.pnpm/payload@3.31.0_graphql@16.10.0_typescript@5.7.3/node_modules/payload/dist/utilities/reduceFieldsToValues.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{r:()=>reduceFieldsToValues});var _unflatten_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/payload@3.31.0_graphql@16.10.0_typescript@5.7.3/node_modules/payload/dist/utilities/unflatten.js");const reduceFieldsToValues=(fields,unflatten,ignoreDisableFormData)=>{let data={};return fields?(Object.keys(fields).forEach((key=>{!0!==ignoreDisableFormData&&fields[key]?.disableFormData||(data[key]=fields[key]?.value)})),unflatten&&(data=(0,_unflatten_js__WEBPACK_IMPORTED_MODULE_0__.s)(data)),data):data}},"./node_modules/.pnpm/payload@3.31.0_graphql@16.10.0_typescript@5.7.3/node_modules/payload/dist/utilities/unflatten.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{s:()=>unflatten});const unflatten=(target,opts)=>{const delimiter=(opts=opts||{}).delimiter||".",overwrite=opts.overwrite||!1,recursive=opts.recursive||!1,result={};if(function isBuffer(obj){return null!=obj&&null!=obj.constructor&&"function"==typeof obj.constructor.isBuffer&&obj.constructor.isBuffer(obj)}(target)||"[object Object]"!==Object.prototype.toString.call(target))return target;const getkey=key=>{const parsedKey=Number(key);return isNaN(parsedKey)||-1!==key.indexOf(".")||opts.object?key:parsedKey};return Object.keys(target).sort(((keyA,keyB)=>keyA.length-keyB.length)).forEach((key=>{const split=key.split(delimiter);let key1=getkey(split.shift()),key2=getkey(split[0]),recipient=result;for(;void 0!==key2;){if("__proto__"===key1)return;const type=Object.prototype.toString.call(recipient[key1]),isobject="[object Object]"===type||"[object Array]"===type;if(!overwrite&&!isobject&&void 0!==recipient[key1])return;(overwrite&&!isobject||!overwrite&&null==recipient[key1])&&(recipient[key1]="number"!=typeof key2||opts.object?{}:[]),recipient=recipient[key1],split.length>0&&(key1=getkey(split.shift()),key2=getkey(split[0]))}recipient[key1]=recursive?unflatten(target[key],opts):target[key]})),result}}}]);